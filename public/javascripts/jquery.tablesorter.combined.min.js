(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(typeof module==="object"&&typeof module.exports==="object"){module.exports=factory(require("jquery"))}else{factory(jQuery)}})(function($){(function($){"use strict";var ts=$.tablesorter={version:"2.24.6",parsers:[],widgets:[],defaults:{theme:"default",widthFixed:false,showProcessing:false,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:true,tabIndex:true,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:true,delayInit:false,serverSideSorting:false,resort:true,headers:{},ignoreCase:true,sortForce:null,sortList:[],sortAppend:null,sortStable:false,sortInitialOrder:"asc",sortLocaleCompare:false,sortReset:false,sortRestart:false,emptyTo:"bottom",stringTo:"max",textExtraction:"basic",textAttribute:"data-text",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:true,widgetClass:"widget-{name}",initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssNone:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssInfoBlock:"tablesorter-infoOnly",cssNoSort:"tablesorter-noSort",cssIgnoreRow:"tablesorter-ignoreRow",cssIcon:"tablesorter-icon",cssIconNone:"",cssIconAsc:"",cssIconDesc:"",pointerClick:"click",pointerDown:"mousedown",pointerUp:"mouseup",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:false,headerList:[],empties:{},strings:{},parsers:[]},css:{table:"tablesorter",cssHasChild:"tablesorter-hasChildRow",childRow:"tablesorter-childRow",colgroup:"tablesorter-colgroup",header:"tablesorter-header",headerRow:"tablesorter-headerRow",headerIn:"tablesorter-header-inner",icon:"tablesorter-icon",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc",sortNone:"tablesorter-headerUnSorted"},language:{sortAsc:"Ascending sort applied, ",sortDesc:"Descending sort applied, ",sortNone:"No sort applied, ",sortDisabled:"sorting is disabled",nextAsc:"activate to apply an ascending sort",nextDesc:"activate to apply a descending sort",nextNone:"activate to remove the sort"},regex:{templateContent:/\{content\}/g,templateIcon:/\{icon\}/g,templateName:/\{name\}/i,spaces:/\s+/g,nonWord:/\W/g,formElements:/(input|select|button|textarea)/i,chunk:/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,chunks:/(^\\0|\\0$)/,hex:/^0x[0-9a-f]+$/i,comma:/,/g,digitNonUS:/[\s|\.]/g,digitNegativeTest:/^\s*\([.\d]+\)/,digitNegativeReplace:/^\s*\(([.\d]+)\)/,digitTest:/^[\-+(]?\d+[)]?$/,digitReplace:/[,.'"\s]/g},string:{max:1,min:-1,emptymin:1,emptymax:-1,zero:0,none:0,"null":0,top:true,bottom:false},dates:{},instanceMethods:{},setup:function(table,c){if(!table||!table.tHead||table.tBodies.length===0||table.hasInitialized===true){if(c.debug){if(table.hasInitialized){console.warn("Stopping initialization. Tablesorter has already been initialized")}else{console.error("Stopping initialization! No table, thead or tbody")}}return}var tmp="",$table=$(table),meta=$.metadata;table.hasInitialized=false;table.isProcessing=true;table.config=c;$.data(table,"tablesorter",c);if(c.debug){console[console.group?"group":"log"]("Initializing tablesorter");$.data(table,"startoveralltimer",new Date)}c.supportsDataObject=function(version){version[0]=parseInt(version[0],10);return version[0]>1||version[0]===1&&parseInt(version[1],10)>=4}($.fn.jquery.split("."));c.emptyTo=c.emptyTo.toLowerCase();c.stringTo=c.stringTo.toLowerCase();c.last={sortList:[],clickedIndex:-1};if(!/tablesorter\-/.test($table.attr("class"))){tmp=c.theme!==""?" tablesorter-"+c.theme:""}c.table=table;c.$table=$table.addClass(ts.css.table+" "+c.tableClass+tmp).attr("role","grid");c.$headers=$table.find(c.selectorHeaders);if(!c.namespace){c.namespace=".tablesorter"+Math.random().toString(16).slice(2)}else{c.namespace="."+c.namespace.replace(ts.regex.nonWord,"")}c.$table.children().children("tr").attr("role","row");c.$tbodies=$table.children("tbody:not(."+c.cssInfoBlock+")").attr({"aria-live":"polite","aria-relevant":"all"});if(c.$table.children("caption").length){tmp=c.$table.children("caption")[0];if(!tmp.id){tmp.id=c.namespace.slice(1)+"caption"}c.$table.attr("aria-labelledby",tmp.id)}c.widgetInit={};c.textExtraction=c.$table.attr("data-text-extraction")||c.textExtraction||"basic";ts.buildHeaders(c);ts.fixColumnWidth(table);ts.addWidgetFromClass(table);ts.applyWidgetOptions(table);ts.setupParsers(c);c.totalRows=0;if(!c.delayInit){ts.buildCache(c)}ts.bindEvents(table,c.$headers,true);ts.bindMethods(c);if(c.supportsDataObject&&typeof $table.data().sortlist!=="undefined"){c.sortList=$table.data().sortlist}else if(meta&&($table.metadata()&&$table.metadata().sortlist)){c.sortList=$table.metadata().sortlist}ts.applyWidget(table,true);if(c.sortList.length>0){ts.sortOn(c,c.sortList,{},!c.initWidgets)}else{ts.setHeadersCss(c);if(c.initWidgets){ts.applyWidget(table,false)}}if(c.showProcessing){$table.unbind("sortBegin"+c.namespace+" sortEnd"+c.namespace).bind("sortBegin"+c.namespace+" sortEnd"+c.namespace,function(e){clearTimeout(c.timerProcessing);ts.isProcessing(table);if(e.type==="sortBegin"){c.timerProcessing=setTimeout(function(){ts.isProcessing(table,true)},500)}})}table.hasInitialized=true;table.isProcessing=false;if(c.debug){console.log("Overall initialization time: "+ts.benchmark($.data(table,"startoveralltimer")));if(c.debug&&console.groupEnd){console.groupEnd()}}$table.triggerHandler("tablesorter-initialized",table);if(typeof c.initialized==="function"){c.initialized(table)}},bindMethods:function(c){var $table=c.$table,namespace=c.namespace,events=("sortReset update updateRows updateAll updateHeaders addRows updateCell updateComplete "+"sorton appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup "+"mouseleave ").split(" ").join(namespace+" ");$table.unbind(events.replace(ts.regex.spaces," ")).bind("sortReset"+namespace,function(e,callback){e.stopPropagation();ts.sortReset(this.config,callback)}).bind("updateAll"+namespace,function(e,resort,callback){e.stopPropagation();ts.updateAll(this.config,resort,callback)}).bind("update"+namespace+" updateRows"+namespace,function(e,resort,callback){e.stopPropagation();ts.update(this.config,resort,callback)}).bind("updateHeaders"+namespace,function(e,callback){e.stopPropagation();ts.updateHeaders(this.config,callback)}).bind("updateCell"+namespace,function(e,cell,resort,callback){e.stopPropagation();ts.updateCell(this.config,cell,resort,callback)}).bind("addRows"+namespace,function(e,$row,resort,callback){e.stopPropagation();ts.addRows(this.config,$row,resort,callback)}).bind("updateComplete"+namespace,function(){this.isUpdating=false}).bind("sorton"+namespace,function(e,list,callback,init){e.stopPropagation();ts.sortOn(this.config,list,callback,init)}).bind("appendCache"+namespace,function(e,callback,init){e.stopPropagation();ts.appendCache(this.config,init);if($.isFunction(callback)){callback(this)}}).bind("updateCache"+namespace,function(e,callback,$tbodies){e.stopPropagation();ts.updateCache(this.config,callback,$tbodies)}).bind("applyWidgetId"+namespace,function(e,id){e.stopPropagation();var widget=ts.getWidgetById(id);if(widget){widget.format(this,this.config,this.config.widgetOptions)}}).bind("applyWidgets"+namespace,function(e,init){e.stopPropagation();ts.applyWidget(this,init)}).bind("refreshWidgets"+namespace,function(e,all,dontapply){e.stopPropagation();ts.refreshWidgets(this,all,dontapply)}).bind("destroy"+namespace,function(e,removeClasses,callback){e.stopPropagation();ts.destroy(this,removeClasses,callback)}).bind("resetToLoadState"+namespace,function(e){e.stopPropagation();ts.removeWidget(this,true,false);c=$.extend(true,ts.defaults,c.originalSettings);this.hasInitialized=false;ts.setup(this,c)})},bindEvents:function(table,$headers,core){table=$(table)[0];var tmp,c=table.config,namespace=c.namespace,downTarget=null;if(core!==true){$headers.addClass(namespace.slice(1)+"_extra_headers");tmp=$.fn.closest?$headers.closest("table")[0]:$headers.parents("table")[0];if(tmp&&tmp.nodeName==="TABLE"&&tmp!==table){$(tmp).addClass(namespace.slice(1)+"_extra_table")}}tmp=(c.pointerDown+" "+c.pointerUp+" "+c.pointerClick+" sort keyup ").replace(ts.regex.spaces," ").split(" ").join(namespace+" ");$headers.find(c.selectorSort).add($headers.filter(c.selectorSort)).unbind(tmp).bind(tmp,function(e,external){var $cell,cell,temp,$target=$(e.target),type=" "+e.type+" ";if((e.which||e.button)!==1&&!type.match(" "+c.pointerClick+" | sort | keyup ")||type===" keyup "&&e.which!==13||type.match(" "+c.pointerClick+" ")&&typeof e.which!=="undefined"){return}if(type.match(" "+c.pointerUp+" ")&&downTarget!==e.target&&external!==true){return}if(type.match(" "+c.pointerDown+" ")){downTarget=e.target;temp=$target.jquery.split(".");if(temp[0]==="1"&&temp[1]<4){e.preventDefault()}return}downTarget=null;if(ts.regex.formElements.test(e.target.nodeName)||$target.hasClass(c.cssNoSort)||$target.parents("."+c.cssNoSort).length>0||$target.parents("button").length>0){return!c.cancelSelection}if(c.delayInit&&ts.isEmptyObject(c.cache)){ts.buildCache(c)}$cell=$.fn.closest?$(this).closest("th, td"):/TH|TD/.test(this.nodeName)?$(this):$(this).parents("th, td");temp=$headers.index($cell);c.last.clickedIndex=temp<0?$cell.attr("data-column"):temp;cell=c.$headers[c.last.clickedIndex];if(cell&&!cell.sortDisabled){ts.initSort(c,cell,e)}});if(c.cancelSelection){$headers.attr("unselectable","on").bind("selectstart",false).css({"user-select":"none",MozUserSelect:"none"})}},buildHeaders:function(c){var $temp,icon,timer,indx;c.headerList=[];c.headerContent=[];c.sortVars=[];if(c.debug){timer=new Date}c.columns=ts.computeColumnIndex(c.$table.children("thead, tfoot").children("tr"));icon=c.cssIcon?'<i class="'+(c.cssIcon===ts.css.icon?ts.css.icon:c.cssIcon+" "+ts.css.icon)+'"></i>':"";c.$headers=$($.map(c.$table.find(c.selectorHeaders),function(elem,index){var configHeaders,header,column,template,tmp,$elem=$(elem);if($elem.parent().hasClass(c.cssIgnoreRow)){return}configHeaders=ts.getColumnData(c.table,c.headers,index,true);c.headerContent[index]=$elem.html();if(c.headerTemplate!==""&&!$elem.find("."+ts.css.headerIn).length){template=c.headerTemplate.replace(ts.regex.templateContent,$elem.html()).replace(ts.regex.templateIcon,$elem.find("."+ts.css.icon).length?"":icon);if(c.onRenderTemplate){header=c.onRenderTemplate.apply($elem,[index,template]);if(header&&typeof header==="string"){template=header}}$elem.html('<div class="'+ts.css.headerIn+'">'+template+"</div>")}if(c.onRenderHeader){c.onRenderHeader.apply($elem,[index,c,c.$table])}column=parseInt($elem.attr("data-column"),10);elem.column=column;tmp=ts.getData($elem,configHeaders,"sortInitialOrder")||c.sortInitialOrder;c.sortVars[column]={count:-1,order:ts.formatSortingOrder(tmp)?[1,0,2]:[0,1,2],lockedOrder:false};tmp=ts.getData($elem,configHeaders,"lockedOrder")||false;if(typeof tmp!=="undefined"&&tmp!==false){c.sortVars[column].lockedOrder=true;c.sortVars[column].order=ts.formatSortingOrder(tmp)?[1,1,1]:[0,0,0]}c.headerList[index]=elem;$elem.addClass(ts.css.header+" "+c.cssHeader).parent().addClass(ts.css.headerRow+" "+c.cssHeaderRow).attr("role","row");if(c.tabIndex){$elem.attr("tabindex",0)}return elem}));c.$headerIndexed=[];for(indx=0;indx<c.columns;indx++){if(ts.isEmptyObject(c.sortVars[indx])){c.sortVars[indx]={}}$temp=c.$headers.filter('[data-column="'+indx+'"]');c.$headerIndexed[indx]=$temp.length?$temp.not(".sorter-false").length?$temp.not(".sorter-false").filter(":last"):$temp.filter(":last"):$()}c.$table.find(c.selectorHeaders).attr({scope:"col",role:"columnheader"});ts.updateHeader(c);if(c.debug){console.log("Built headers:"+ts.benchmark(timer));console.log(c.$headers)}},addInstanceMethods:function(methods){$.extend(ts.instanceMethods,methods)},setupParsers:function(c,$tbodies){var rows,list,span,max,colIndex,indx,header,configHeaders,noParser,parser,extractor,time,tbody,len,table=c.table,tbodyIndex=0,debug={};c.$tbodies=c.$table.children("tbody:not(."+c.cssInfoBlock+")");tbody=typeof $tbodies==="undefined"?c.$tbodies:$tbodies;len=tbody.length;if(len===0){return c.debug?console.warn("Warning: *Empty table!* Not building a parser cache"):""}else if(c.debug){time=new Date;console[console.group?"group":"log"]("Detecting parsers for each column")}list={extractors:[],parsers:[]};while(tbodyIndex<len){rows=tbody[tbodyIndex].rows;if(rows.length){colIndex=0;max=c.columns;for(indx=0;indx<max;indx++){header=c.$headerIndexed[colIndex];if(header&&header.length){configHeaders=ts.getColumnData(table,c.headers,colIndex);extractor=ts.getParserById(ts.getData(header,configHeaders,"extractor"));parser=ts.getParserById(ts.getData(header,configHeaders,"sorter"));noParser=ts.getData(header,configHeaders,"parser")==="false";c.empties[colIndex]=(ts.getData(header,configHeaders,"empty")||c.emptyTo||(c.emptyToBottom?"bottom":"top")).toLowerCase();c.strings[colIndex]=(ts.getData(header,configHeaders,"string")||c.stringTo||"max").toLowerCase();if(noParser){parser=ts.getParserById("no-parser")}if(!extractor){extractor=false}if(!parser){parser=ts.detectParserForColumn(c,rows,-1,colIndex)}if(c.debug){debug["("+colIndex+") "+header.text()]={parser:parser.id,extractor:extractor?extractor.id:"none",string:c.strings[colIndex],empty:c.empties[colIndex]}}list.parsers[colIndex]=parser;list.extractors[colIndex]=extractor;span=header[0].colSpan-1;if(span>0){colIndex+=span;max+=span}}colIndex++}}tbodyIndex+=list.parsers.length?len:1}if(c.debug){if(!ts.isEmptyObject(debug)){console[console.table?"table":"log"](debug)}else{console.warn("  No parsers detected!")}console.log("Completed detecting parsers"+ts.benchmark(time));if(console.groupEnd){console.groupEnd()}}c.parsers=list.parsers;c.extractors=list.extractors},addParser:function(parser){var indx,len=ts.parsers.length,add=true;for(indx=0;indx<len;indx++){if(ts.parsers[indx].id.toLowerCase()===parser.id.toLowerCase()){add=false}}if(add){ts.parsers.push(parser)}},getParserById:function(name){if(name=="false"){return false}var indx,len=ts.parsers.length;for(indx=0;indx<len;indx++){if(ts.parsers[indx].id.toLowerCase()===name.toString().toLowerCase()){return ts.parsers[indx]}}return false},detectParserForColumn:function(c,rows,rowIndex,cellIndex){var cur,$node,row,indx=ts.parsers.length,node=false,nodeValue="",keepLooking=true;while(nodeValue===""&&keepLooking){rowIndex++;row=rows[rowIndex];if(row&&rowIndex<50){if(row.className.indexOf(ts.cssIgnoreRow)<0){node=rows[rowIndex].cells[cellIndex];nodeValue=ts.getElementText(c,node,cellIndex);$node=$(node);if(c.debug){console.log("Checking if value was empty on row "+rowIndex+", column: "+cellIndex+': "'+nodeValue+'"')}}}else{keepLooking=false}}while(--indx>=0){cur=ts.parsers[indx];if(cur&&cur.id!=="text"&&cur.is&&cur.is(nodeValue,c.table,node,$node)){return cur}}return ts.getParserById("text")},getElementText:function(c,node,cellIndex){if(!node){return""}var tmp,extract=c.textExtraction||"",$node=node.jquery?node:$(node);if(typeof extract==="string"){if(extract==="basic"&&typeof(tmp=$node.attr(c.textAttribute))!=="undefined"){return $.trim(tmp)}return $.trim(node.textContent||$node.text())}else{if(typeof extract==="function"){return $.trim(extract($node[0],c.table,cellIndex))}else if(typeof(tmp=ts.getColumnData(c.table,extract,cellIndex))==="function"){return $.trim(tmp($node[0],c.table,cellIndex))}}return $.trim($node[0].textContent||$node.text())},getParsedText:function(c,cell,colIndex,txt){if(typeof txt==="undefined"){txt=ts.getElementText(c,cell,colIndex)}var val=""+txt,parser=c.parsers[colIndex],extractor=c.extractors[colIndex];if(parser){if(extractor&&typeof extractor.format==="function"){txt=extractor.format(txt,c.table,cell,colIndex)}val=parser.id==="no-parser"?"":parser.format(""+txt,c.table,cell,colIndex);if(c.ignoreCase&&typeof val==="string"){val=val.toLowerCase()}}return val},buildCache:function(c,callback,$tbodies){var cache,val,txt,rowIndex,colIndex,tbodyIndex,$tbody,$row,cols,$cells,cell,cacheTime,totalRows,rowData,prevRowData,colMax,span,cacheIndex,max,len,table=c.table,parsers=c.parsers;c.$tbodies=c.$table.children("tbody:not(."+c.cssInfoBlock+")");$tbody=typeof $tbodies==="undefined"?c.$tbodies:$tbodies,c.cache={};c.totalRows=0;if(!parsers){return c.debug?console.warn("Warning: *Empty table!* Not building a cache"):""}if(c.debug){cacheTime=new Date}if(c.showProcessing){ts.isProcessing(table,true)}for(tbodyIndex=0;tbodyIndex<$tbody.length;tbodyIndex++){colMax=[];cache=c.cache[tbodyIndex]={normalized:[]};totalRows=$tbody[tbodyIndex]&&$tbody[tbodyIndex].rows.length||0;for(rowIndex=0;rowIndex<totalRows;++rowIndex){rowData={child:[],raw:[]};$row=$($tbody[tbodyIndex].rows[rowIndex]);cols=[];if($row.hasClass(c.cssChildRow)&&rowIndex!==0){len=cache.normalized.length-1;prevRowData=cache.normalized[len][c.columns];prevRowData.$row=prevRowData.$row.add($row);if(!$row.prev().hasClass(c.cssChildRow)){$row.prev().addClass(ts.css.cssHasChild)}$cells=$row.children("th, td");len=prevRowData.child.length;prevRowData.child[len]=[];cacheIndex=0;max=c.columns;for(colIndex=0;colIndex<max;colIndex++){cell=$cells[colIndex];if(cell){prevRowData.child[len][colIndex]=ts.getParsedText(c,cell,colIndex);span=$cells[colIndex].colSpan-1;if(span>0){cacheIndex+=span;max+=span}}cacheIndex++}continue}rowData.$row=$row;rowData.order=rowIndex;cacheIndex=0;max=c.columns;for(colIndex=0;colIndex<max;++colIndex){cell=$row[0].cells[colIndex];if(typeof parsers[cacheIndex]==="undefined"){if(c.debug){console.warn("No parser found for column "+colIndex+"; cell:",cell,"does it have a header?")}}else if(cell){val=ts.getElementText(c,cell,cacheIndex);rowData.raw[cacheIndex]=val;txt=ts.getParsedText(c,cell,cacheIndex,val);cols[cacheIndex]=txt;if((parsers[cacheIndex].type||"").toLowerCase()==="numeric"){colMax[cacheIndex]=Math.max(Math.abs(txt)||0,colMax[cacheIndex]||0)}span=cell.colSpan-1;if(span>0){cacheIndex+=span;max+=span}}cacheIndex++}cols[c.columns]=rowData;cache.normalized.push(cols)}cache.colMax=colMax;c.totalRows+=cache.normalized.length}if(c.showProcessing){ts.isProcessing(table)}if(c.debug){len=Math.min(5,c.totalRows);console[console.group?"group":"log"]("Building cache for "+totalRows+" rows (showing "+len+" rows)"+ts.benchmark(cacheTime));val={};for(colIndex=0;colIndex<c.columns;colIndex++){for(cacheIndex=0;cacheIndex<len;cacheIndex++){if(!val["row: "+cacheIndex]){val["row: "+cacheIndex]={}}val["row: "+cacheIndex][c.headerContent[colIndex]]=cache.normalized[cacheIndex][colIndex]}}console[console.table?"table":"log"](val);if(console.groupEnd){console.groupEnd()}}if($.isFunction(callback)){callback(table)}},getColumnText:function(table,column,callback,rowFilter){table=$(table)[0];var tbodyIndex,rowIndex,cache,row,tbodyLen,rowLen,raw,parsed,$cell,result,hasCallback=typeof callback==="function",allColumns=column==="all",data={raw:[],parsed:[],$cell:[]},c=table.config;if(ts.isEmptyObject(c)){if(c.debug){console.warn("No cache found - aborting getColumnText function!")}}else{tbodyLen=c.$tbodies.length;for(tbodyIndex=0;tbodyIndex<tbodyLen;tbodyIndex++){cache=c.cache[tbodyIndex].normalized;rowLen=cache.length;for(rowIndex=0;rowIndex<rowLen;rowIndex++){row=cache[rowIndex];if(rowFilter&&!row[c.columns].$row.is(rowFilter)){continue}result=true;parsed=allColumns?row.slice(0,c.columns):row[column];row=row[c.columns];raw=allColumns?row.raw:row.raw[column];$cell=allColumns?row.$row.children():row.$row.children().eq(column);if(hasCallback){result=callback({tbodyIndex:tbodyIndex,rowIndex:rowIndex,parsed:parsed,raw:raw,$row:row.$row,$cell:$cell})}if(result!==false){data.parsed.push(parsed);data.raw.push(raw);data.$cell.push($cell)}}}return data}},setHeadersCss:function(c){var $sorted,indx,column,list=c.sortList,len=list.length,none=ts.css.sortNone+" "+c.cssNone,css=[ts.css.sortAsc+" "+c.cssAsc,ts.css.sortDesc+" "+c.cssDesc],cssIcon=[c.cssIconAsc,c.cssIconDesc,c.cssIconNone],aria=["ascending","descending"],$headers=c.$table.find("tfoot tr").children().add($(c.namespace+"_extra_headers")).removeClass(css.join(" "));c.$headers.removeClass(css.join(" ")).addClass(none).attr("aria-sort","none").find("."+ts.css.icon).removeClass(cssIcon.join(" ")).addClass(cssIcon[2]);for(indx=0;indx<len;indx++){if(list[indx][1]!==2){$sorted=c.$headers.filter(function(i){var include=true,$el=c.$headers.eq(i),col=parseInt($el.attr("data-column"),10),end=col+c.$headers[i].colSpan;for(;col<end;col++){include=include?ts.isValueInArray(col,c.sortList)>-1:false}return include});$sorted=$sorted.not(".sorter-false").filter('[data-column="'+list[indx][0]+'"]'+(len===1?":last":""));if($sorted.length){for(column=0;column<$sorted.length;column++){if(!$sorted[column].sortDisabled){$sorted.eq(column).removeClass(none).addClass(css[list[indx][1]]).attr("aria-sort",aria[list[indx][1]]).find("."+ts.css.icon).removeClass(cssIcon[2]).addClass(cssIcon[list[indx][1]])}}if($headers.length){$headers.filter('[data-column="'+list[indx][0]+'"]').removeClass(none).addClass(css[list[indx][1]])}}}}len=c.$headers.length;for(indx=0;indx<len;indx++){ts.setColumnAriaLabel(c,c.$headers.eq(indx))}},setColumnAriaLabel:function(c,$header,nextSort){if($header.length){var column=parseInt($header.attr("data-column"),10),tmp=$header.hasClass(ts.css.sortAsc)?"sortAsc":$header.hasClass(ts.css.sortDesc)?"sortDesc":"sortNone",txt=$.trim($header.text())+": "+ts.language[tmp];if($header.hasClass("sorter-false")||nextSort===false){txt+=ts.language.sortDisabled}else{nextSort=c.sortVars[column].order[(c.sortVars[column].count+1)%(c.sortReset?3:2)];txt+=ts.language[nextSort===0?"nextAsc":nextSort===1?"nextDesc":"nextNone"]}$header.attr("aria-label",txt)}},updateHeader:function(c){var index,isDisabled,$header,col,table=c.table,len=c.$headers.length;for(index=0;index<len;index++){$header=c.$headers.eq(index);col=ts.getColumnData(table,c.headers,index,true);isDisabled=ts.getData($header,col,"sorter")==="false"||ts.getData($header,col,"parser")==="false";ts.setColumnSort(c,$header,isDisabled)}},setColumnSort:function(c,$header,isDisabled){var id=c.table.id;$header[0].sortDisabled=isDisabled;$header[isDisabled?"addClass":"removeClass"]("sorter-false").attr("aria-disabled",""+isDisabled);if(c.tabIndex){if(isDisabled){$header.removeAttr("tabindex")}else{$header.attr("tabindex","0")}}if(id){if(isDisabled){$header.removeAttr("aria-controls")}else{$header.attr("aria-controls",id)}}},updateHeaderSortCount:function(c,list){var col,dir,group,indx,primary,temp,val,order,sortList=list||c.sortList,len=sortList.length;c.sortList=[];for(indx=0;indx<len;indx++){val=sortList[indx];col=parseInt(val[0],10);if(col<c.columns){order=c.sortVars[col].order;dir=(""+val[1]).match(/^(1|d|s|o|n)/);dir=dir?dir[0]:"";switch(dir){case"1":case"d":dir=1;break;case"s":dir=primary||0;break;case"o":temp=order[(primary||0)%(c.sortReset?3:2)];dir=temp===0?1:temp===1?0:2;break;case"n":dir=order[++c.sortVars[col].count%(c.sortReset?3:2)];break;default:dir=0;break}primary=indx===0?dir:primary;group=[col,parseInt(dir,10)||0];c.sortList.push(group);dir=$.inArray(group[1],order);c.sortVars[col].count=dir>=0?dir:group[1]%(c.sortReset?3:2)}}},updateAll:function(c,resort,callback){var table=c.table;table.isUpdating=true;ts.refreshWidgets(table,true,true);ts.buildHeaders(c);ts.bindEvents(table,c.$headers,true);ts.bindMethods(c);ts.commonUpdate(c,resort,callback)},update:function(c,resort,callback){var table=c.table;table.isUpdating=true;ts.updateHeader(c);ts.commonUpdate(c,resort,callback)},updateHeaders:function(c,callback){c.table.isUpdating=true;ts.buildHeaders(c);ts.bindEvents(c.table,c.$headers,true);ts.resortComplete(c,callback)},updateCell:function(c,cell,resort,callback){c.table.isUpdating=true;c.$table.find(c.selectorRemove).remove();var tmp,indx,row,icell,cache,len,$tbodies=c.$tbodies,$cell=$(cell),tbodyIndex=$tbodies.index($.fn.closest?$cell.closest("tbody"):$cell.parents("tbody").filter(":first")),tbcache=c.cache[tbodyIndex],$row=$.fn.closest?$cell.closest("tr"):$cell.parents("tr").filter(":first");cell=$cell[0];if($tbodies.length&&tbodyIndex>=0){row=$tbodies.eq(tbodyIndex).find("tr").index($row);cache=tbcache.normalized[row];len=$row[0].cells.length;if(len!==c.columns){icell=0;tmp=false;for(indx=0;indx<len;indx++){if(!tmp&&$row[0].cells[indx]!==cell){icell+=$row[0].cells[indx].colSpan}else{tmp=true}}}else{icell=$cell.index()}tmp=ts.getElementText(c,cell,icell);cache[c.columns].raw[icell]=tmp;tmp=ts.getParsedText(c,cell,icell,tmp);cache[icell]=tmp;cache[c.columns].$row=$row;if((c.parsers[icell].type||"").toLowerCase()==="numeric"){tbcache.colMax[icell]=Math.max(Math.abs(tmp)||0,tbcache.colMax[icell]||0)}tmp=resort!=="undefined"?resort:c.resort;if(tmp!==false){ts.checkResort(c,tmp,callback)}else{ts.resortComplete(c,callback)}}else{if(c.debug){console.error("updateCell aborted, tbody missing or not within the indicated table")}c.table.isUpdating=false}},addRows:function(c,$row,resort,callback){var txt,val,tbodyIndex,rowIndex,rows,cellIndex,len,cacheIndex,rowData,cells,cell,span,valid=typeof $row==="string"&&c.$tbodies.length===1&&/<tr/.test($row||""),table=c.table;if(valid){$row=$($row);c.$tbodies.append($row)}else if(!$row||!($row instanceof jQuery)||($.fn.closest?$row.closest("table")[0]:$row.parents("table")[0])!==c.table){if(c.debug){console.error("addRows method requires (1) a jQuery selector reference to rows that have already "+"been added to the table, or (2) row HTML string to be added to a table with only one tbody")}return false}table.isUpdating=true;if(ts.isEmptyObject(c.cache)){ts.updateHeader(c);ts.commonUpdate(c,resort,callback)}else{rows=$row.filter("tr").attr("role","row").length;tbodyIndex=c.$tbodies.index($row.parents("tbody").filter(":first"));if(!(c.parsers&&c.parsers.length)){ts.setupParsers(c)}for(rowIndex=0;rowIndex<rows;rowIndex++){cacheIndex=0;len=$row[rowIndex].cells.length;cells=[];rowData={child:[],raw:[],$row:$row.eq(rowIndex),order:c.cache[tbodyIndex].normalized.length};for(cellIndex=0;cellIndex<len;cellIndex++){cell=$row[rowIndex].cells[cellIndex];txt=ts.getElementText(c,cell,cacheIndex);rowData.raw[cacheIndex]=txt;val=ts.getParsedText(c,cell,cacheIndex,txt);cells[cacheIndex]=val;if((c.parsers[cacheIndex].type||"").toLowerCase()==="numeric"){c.cache[tbodyIndex].colMax[cacheIndex]=Math.max(Math.abs(val)||0,c.cache[tbodyIndex].colMax[cacheIndex]||0)}span=cell.colSpan-1;if(span>0){cacheIndex+=span}cacheIndex++}cells[c.columns]=rowData;c.cache[tbodyIndex].normalized.push(cells)}ts.checkResort(c,resort,callback)}},updateCache:function(c,callback,$tbodies){if(!(c.parsers&&c.parsers.length)){ts.setupParsers(c,$tbodies)}ts.buildCache(c,callback,$tbodies)},appendCache:function(c,init){var parsed,totalRows,$tbody,$curTbody,rowIndex,tbodyIndex,appendTime,table=c.table,wo=c.widgetOptions,$tbodies=c.$tbodies,rows=[],cache=c.cache;if(ts.isEmptyObject(cache)){return c.appender?c.appender(table,rows):table.isUpdating?c.$table.triggerHandler("updateComplete",table):""}if(c.debug){appendTime=new Date}for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=$tbodies.eq(tbodyIndex);if($tbody.length){$curTbody=ts.processTbody(table,$tbody,true);parsed=cache[tbodyIndex].normalized;totalRows=parsed.length;for(rowIndex=0;rowIndex<totalRows;rowIndex++){rows.push(parsed[rowIndex][c.columns].$row);if(!c.appender||c.pager&&(!c.pager.removeRows||!wo.pager_removeRows)&&!c.pager.ajax){$curTbody.append(parsed[rowIndex][c.columns].$row)}}ts.processTbody(table,$curTbody,false)}}if(c.appender){c.appender(table,rows)}if(c.debug){console.log("Rebuilt table"+ts.benchmark(appendTime))}if(!init&&!c.appender){ts.applyWidget(table)}if(table.isUpdating){c.$table.triggerHandler("updateComplete",table)}},commonUpdate:function(c,resort,callback){c.$table.find(c.selectorRemove).remove();ts.setupParsers(c);ts.buildCache(c);ts.checkResort(c,resort,callback)},initSort:function(c,cell,event){if(c.table.isUpdating){return setTimeout(function(){ts.initSort(c,cell,event)},50)}var arry,indx,headerIndx,dir,temp,tmp,$header,notMultiSort=!event[c.sortMultiSortKey],table=c.table,len=c.$headers.length,col=parseInt($(cell).attr("data-column"),10),order=c.sortVars[col].order;c.$table.triggerHandler("sortStart",table);c.sortVars[col].count=event[c.sortResetKey]?2:(c.sortVars[col].count+1)%(c.sortReset?3:2);if(c.sortRestart){for(headerIndx=0;headerIndx<len;headerIndx++){$header=c.$headers.eq(headerIndx);tmp=parseInt($header.attr("data-column"),10);if(col!==tmp&&(notMultiSort||$header.hasClass(ts.css.sortNone))){c.sortVars[tmp].count=-1}}}if(notMultiSort){c.sortList=[];c.last.sortList=[];if(c.sortForce!==null){arry=c.sortForce;for(indx=0;indx<arry.length;indx++){if(arry[indx][0]!==col){c.sortList.push(arry[indx])}}}dir=order[c.sortVars[col].count];if(dir<2){c.sortList.push([col,dir]);if(cell.colSpan>1){for(indx=1;indx<cell.colSpan;indx++){c.sortList.push([col+indx,dir]);c.sortVars[col+indx].count=$.inArray(dir,order)}}}}else{c.sortList=$.extend([],c.last.sortList);if(ts.isValueInArray(col,c.sortList)>=0){for(indx=0;indx<c.sortList.length;indx++){tmp=c.sortList[indx];if(tmp[0]===col){tmp[1]=order[c.sortVars[col].count];if(tmp[1]===2){c.sortList.splice(indx,1);c.sortVars[col].count=-1}}}}else{dir=order[c.sortVars[col].count];if(dir<2){c.sortList.push([col,dir]);if(cell.colSpan>1){for(indx=1;indx<cell.colSpan;indx++){c.sortList.push([col+indx,dir]);c.sortVars[col+indx].count=$.inArray(dir,order)}}}}}c.last.sortList=$.extend([],c.sortList);if(c.sortList.length&&c.sortAppend){arry=$.isArray(c.sortAppend)?c.sortAppend:c.sortAppend[c.sortList[0][0]];if(!ts.isEmptyObject(arry)){for(indx=0;indx<arry.length;indx++){if(arry[indx][0]!==col&&ts.isValueInArray(arry[indx][0],c.sortList)<0){dir=arry[indx][1];temp=(""+dir).match(/^(a|d|s|o|n)/);if(temp){tmp=c.sortList[0][1];switch(temp[0]){case"d":dir=1;break;case"s":dir=tmp;break;case"o":dir=tmp===0?1:0;break;case"n":dir=(tmp+1)%(c.sortReset?3:2);break;default:dir=0;break}}c.sortList.push([arry[indx][0],dir])}}}}c.$table.triggerHandler("sortBegin",table);setTimeout(function(){ts.setHeadersCss(c);ts.multisort(c);ts.appendCache(c);c.$table.triggerHandler("sortEnd",table)},1)},multisort:function(c){var tbodyIndex,sortTime,colMax,rows,table=c.table,dir=0,textSorter=c.textSorter||"",sortList=c.sortList,sortLen=sortList.length,len=c.$tbodies.length;if(c.serverSideSorting||ts.isEmptyObject(c.cache)){return}if(c.debug){sortTime=new Date}for(tbodyIndex=0;tbodyIndex<len;tbodyIndex++){colMax=c.cache[tbodyIndex].colMax;rows=c.cache[tbodyIndex].normalized;rows.sort(function(a,b){var sortIndex,num,col,order,sort,x,y;for(sortIndex=0;sortIndex<sortLen;sortIndex++){col=sortList[sortIndex][0];order=sortList[sortIndex][1];dir=order===0;if(c.sortStable&&a[col]===b[col]&&sortLen===1){return a[c.columns].order-b[c.columns].order}num=/n/i.test(ts.getSortType(c.parsers,col));if(num&&c.strings[col]){if(typeof ts.string[c.strings[col]]==="boolean"){num=(dir?1:-1)*(ts.string[c.strings[col]]?-1:1)}else{num=c.strings[col]?ts.string[c.strings[col]]||0:0}sort=c.numberSorter?c.numberSorter(a[col],b[col],dir,colMax[col],table):ts["sortNumeric"+(dir?"Asc":"Desc")](a[col],b[col],num,colMax[col],col,c)}else{x=dir?a:b;y=dir?b:a;if(typeof textSorter==="function"){sort=textSorter(x[col],y[col],dir,col,table)}else if(typeof textSorter==="object"&&textSorter.hasOwnProperty(col)){sort=textSorter[col](x[col],y[col],dir,col,table)}else{sort=ts["sortNatural"+(dir?"Asc":"Desc")](a[col],b[col],col,c)}}if(sort){return sort}}return a[c.columns].order-b[c.columns].order})}if(c.debug){console.log("Applying sort "+sortList.toString()+ts.benchmark(sortTime))}},resortComplete:function(c,callback){if(c.table.isUpdating){c.$table.triggerHandler("updateComplete",c.table)}if($.isFunction(callback)){callback(c.table)}},checkResort:function(c,resort,callback){var sortList=$.isArray(resort)?resort:c.sortList,resrt=typeof resort==="undefined"?c.resort:resort;if(resrt!==false&&!c.serverSideSorting&&!c.table.isProcessing){
if(sortList.length){ts.sortOn(c,sortList,function(){ts.resortComplete(c,callback)},true)}else{ts.sortReset(c,function(){ts.resortComplete(c,callback);ts.applyWidget(c.table,false)})}}else{ts.resortComplete(c,callback);ts.applyWidget(c.table,false)}},sortOn:function(c,list,callback,init){var table=c.table;c.$table.triggerHandler("sortStart",table);ts.updateHeaderSortCount(c,list);ts.setHeadersCss(c);if(c.delayInit&&ts.isEmptyObject(c.cache)){ts.buildCache(c)}c.$table.triggerHandler("sortBegin",table);ts.multisort(c);ts.appendCache(c,init);c.$table.triggerHandler("sortEnd",table);ts.applyWidget(table);if($.isFunction(callback)){callback(table)}},sortReset:function(c,callback){c.sortList=[];ts.setHeadersCss(c);ts.multisort(c);ts.appendCache(c);if($.isFunction(callback)){callback(c.table)}},getSortType:function(parsers,column){return parsers&&parsers[column]?parsers[column].type||"":""},formatSortingOrder:function(val){return/^d/i.test(val)||val===1},sortNatural:function(a,b){if(a===b){return 0}var aNum,bNum,aFloat,bFloat,indx,max,regex=ts.regex;if(regex.hex.test(b)){aNum=parseInt(a.match(regex.hex),16);bNum=parseInt(b.match(regex.hex),16);if(aNum<bNum){return-1}if(aNum>bNum){return 1}}aNum=a.replace(regex.chunk,"\\0$1\\0").replace(regex.chunks,"").split("\\0");bNum=b.replace(regex.chunk,"\\0$1\\0").replace(regex.chunks,"").split("\\0");max=Math.max(aNum.length,bNum.length);for(indx=0;indx<max;indx++){aFloat=isNaN(aNum[indx])?aNum[indx]||0:parseFloat(aNum[indx])||0;bFloat=isNaN(bNum[indx])?bNum[indx]||0:parseFloat(bNum[indx])||0;if(isNaN(aFloat)!==isNaN(bFloat)){return isNaN(aFloat)?1:-1}if(typeof aFloat!==typeof bFloat){aFloat+="";bFloat+=""}if(aFloat<bFloat){return-1}if(aFloat>bFloat){return 1}}return 0},sortNaturalAsc:function(a,b,col,c){if(a===b){return 0}var empty=ts.string[c.empties[col]||c.emptyTo];if(a===""&&empty!==0){return typeof empty==="boolean"?empty?-1:1:-empty||-1}if(b===""&&empty!==0){return typeof empty==="boolean"?empty?1:-1:empty||1}return ts.sortNatural(a,b)},sortNaturalDesc:function(a,b,col,c){if(a===b){return 0}var empty=ts.string[c.empties[col]||c.emptyTo];if(a===""&&empty!==0){return typeof empty==="boolean"?empty?-1:1:empty||1}if(b===""&&empty!==0){return typeof empty==="boolean"?empty?1:-1:-empty||-1}return ts.sortNatural(b,a)},sortText:function(a,b){return a>b?1:a<b?-1:0},getTextValue:function(val,num,max){if(max){var indx,len=val?val.length:0,n=max+num;for(indx=0;indx<len;indx++){n+=val.charCodeAt(indx)}return num*n}return 0},sortNumericAsc:function(a,b,num,max,col,c){if(a===b){return 0}var empty=ts.string[c.empties[col]||c.emptyTo];if(a===""&&empty!==0){return typeof empty==="boolean"?empty?-1:1:-empty||-1}if(b===""&&empty!==0){return typeof empty==="boolean"?empty?1:-1:empty||1}if(isNaN(a)){a=ts.getTextValue(a,num,max)}if(isNaN(b)){b=ts.getTextValue(b,num,max)}return a-b},sortNumericDesc:function(a,b,num,max,col,c){if(a===b){return 0}var empty=ts.string[c.empties[col]||c.emptyTo];if(a===""&&empty!==0){return typeof empty==="boolean"?empty?-1:1:empty||1}if(b===""&&empty!==0){return typeof empty==="boolean"?empty?1:-1:-empty||-1}if(isNaN(a)){a=ts.getTextValue(a,num,max)}if(isNaN(b)){b=ts.getTextValue(b,num,max)}return b-a},sortNumeric:function(a,b){return a-b},addWidget:function(widget){ts.widgets.push(widget)},hasWidget:function($table,name){$table=$($table);return $table.length&&$table[0].config&&$table[0].config.widgetInit[name]||false},getWidgetById:function(name){var indx,widget,len=ts.widgets.length;for(indx=0;indx<len;indx++){widget=ts.widgets[indx];if(widget&&widget.id&&widget.id.toLowerCase()===name.toLowerCase()){return widget}}},applyWidgetOptions:function(table){var indx,widget,c=table.config,len=c.widgets.length;if(len){for(indx=0;indx<len;indx++){widget=ts.getWidgetById(c.widgets[indx]);if(widget&&widget.options){c.widgetOptions=$.extend(true,{},widget.options,c.widgetOptions)}}}},addWidgetFromClass:function(table){var len,indx,c=table.config,regex="\\s"+c.widgetClass.replace(ts.regex.templateName,"([\\w-]+)")+"\\s",widgetClass=new RegExp(regex,"g"),widget=(" "+c.table.className+" ").match(widgetClass);if(widget){len=widget.length;for(indx=0;indx<len;indx++){c.widgets.push(widget[indx].replace(widgetClass,"$1"))}}},applyWidget:function(table,init,callback){table=$(table)[0];var indx,len,names,widget,name,applied,time,time2,c=table.config,widgets=[];if(init!==false&&table.hasInitialized&&(table.isApplyingWidgets||table.isUpdating)){return}if(c.debug){time=new Date}ts.addWidgetFromClass(table);clearTimeout(c.timerReady);if(c.widgets.length){table.isApplyingWidgets=true;c.widgets=$.grep(c.widgets,function(val,index){return $.inArray(val,c.widgets)===index});names=c.widgets||[];len=names.length;for(indx=0;indx<len;indx++){widget=ts.getWidgetById(names[indx]);if(widget&&widget.id){if(!widget.priority){widget.priority=10}widgets[indx]=widget}}widgets.sort(function(a,b){return a.priority<b.priority?-1:a.priority===b.priority?0:1});len=widgets.length;if(c.debug){console[console.group?"group":"log"]("Start "+(init?"initializing":"applying")+" widgets")}for(indx=0;indx<len;indx++){widget=widgets[indx];if(widget){name=widget.id;applied=false;if(c.debug){time2=new Date}if(init||!c.widgetInit[name]){c.widgetInit[name]=true;if(table.hasInitialized){ts.applyWidgetOptions(table)}if(typeof widget.init==="function"){applied=true;if(c.debug){console[console.group?"group":"log"]("Initializing "+name+" widget")}widget.init(table,widget,table.config,table.config.widgetOptions)}}if(!init&&typeof widget.format==="function"){applied=true;if(c.debug){console[console.group?"group":"log"]("Updating "+name+" widget")}widget.format(table,table.config,table.config.widgetOptions,false)}if(c.debug){if(applied){console.log("Completed "+(init?"initializing ":"applying ")+name+" widget"+ts.benchmark(time2));if(console.groupEnd){console.groupEnd()}}}}}if(c.debug&&console.groupEnd){console.groupEnd()}if(!init&&typeof callback==="function"){callback(table)}}c.timerReady=setTimeout(function(){table.isApplyingWidgets=false;$.data(table,"lastWidgetApplication",new Date);c.$table.triggerHandler("tablesorter-ready")},10);if(c.debug){widget=c.widgets.length;console.log("Completed "+(init===true?"initializing ":"applying ")+widget+" widget"+(widget!==1?"s":"")+ts.benchmark(time))}},removeWidget:function(table,name,refreshing){table=$(table)[0];var index,widget,indx,len,c=table.config;if(name===true){name=[];len=ts.widgets.length;for(indx=0;indx<len;indx++){widget=ts.widgets[indx];if(widget&&widget.id){name.push(widget.id)}}}else{name=($.isArray(name)?name.join(","):name||"").toLowerCase().split(/[\s,]+/)}len=name.length;for(index=0;index<len;index++){widget=ts.getWidgetById(name[index]);indx=$.inArray(name[index],c.widgets);if(widget&&widget.remove){if(c.debug){console.log((refreshing?"Refreshing":"Removing")+' "'+name[index]+'" widget')}widget.remove(table,c,c.widgetOptions,refreshing);c.widgetInit[name[index]]=false}if(indx>=0&&refreshing!==true){c.widgets.splice(indx,1)}}},refreshWidgets:function(table,doAll,dontapply){table=$(table)[0];var indx,widget,c=table.config,curWidgets=c.widgets,widgets=ts.widgets,len=widgets.length,list=[],callback=function(table){$(table).triggerHandler("refreshComplete")};for(indx=0;indx<len;indx++){widget=widgets[indx];if(widget&&widget.id&&(doAll||$.inArray(widget.id,curWidgets)<0)){list.push(widget.id)}}ts.removeWidget(table,list.join(","),true);if(dontapply!==true){ts.applyWidget(table,doAll||false,callback);if(doAll){ts.applyWidget(table,false,callback)}}else{callback(table)}},benchmark:function(diff){return" ( "+((new Date).getTime()-diff.getTime())+"ms )"},log:function(){console.log(arguments)},isEmptyObject:function(obj){for(var name in obj){return false}return true},isValueInArray:function(column,arry){var indx,len=arry&&arry.length||0;for(indx=0;indx<len;indx++){if(arry[indx][0]===column){return indx}}return-1},formatFloat:function(str,table){if(typeof str!=="string"||str===""){return str}var num,usFormat=table&&table.config?table.config.usNumberFormat!==false:typeof table!=="undefined"?table:true;if(usFormat){str=str.replace(ts.regex.comma,"")}else{str=str.replace(ts.regex.digitNonUS,"").replace(ts.regex.comma,".")}if(ts.regex.digitNegativeTest.test(str)){str=str.replace(ts.regex.digitNegativeReplace,"-$1")}num=parseFloat(str);return isNaN(num)?$.trim(str):num},isDigit:function(str){return isNaN(str)?ts.regex.digitTest.test(str.toString().replace(ts.regex.digitReplace,"")):str!==""},computeColumnIndex:function($rows){var i,j,k,l,$cell,cell,cells,rowIndex,cellId,rowSpan,colSpan,firstAvailCol,matrix=[],matrixrow=[];for(i=0;i<$rows.length;i++){cells=$rows[i].cells;for(j=0;j<cells.length;j++){cell=cells[j];$cell=$(cell);rowIndex=cell.parentNode.rowIndex;cellId=rowIndex+"-"+$cell.index();rowSpan=cell.rowSpan||1;colSpan=cell.colSpan||1;if(typeof matrix[rowIndex]==="undefined"){matrix[rowIndex]=[]}for(k=0;k<matrix[rowIndex].length+1;k++){if(typeof matrix[rowIndex][k]==="undefined"){firstAvailCol=k;break}}if(cell.setAttribute){cell.setAttribute("data-column",firstAvailCol)}else{$cell.attr("data-column",firstAvailCol)}for(k=rowIndex;k<rowIndex+rowSpan;k++){if(typeof matrix[k]==="undefined"){matrix[k]=[]}matrixrow=matrix[k];for(l=firstAvailCol;l<firstAvailCol+colSpan;l++){matrixrow[l]="x"}}}}return matrixrow.length},fixColumnWidth:function(table){table=$(table)[0];var overallWidth,percent,$tbodies,len,index,c=table.config,$colgroup=c.$table.children("colgroup");if($colgroup.length&&$colgroup.hasClass(ts.css.colgroup)){$colgroup.remove()}if(c.widthFixed&&c.$table.children("colgroup").length===0){$colgroup=$('<colgroup class="'+ts.css.colgroup+'">');overallWidth=c.$table.width();$tbodies=c.$tbodies.find("tr:first").children(":visible");len=$tbodies.length;for(index=0;index<len;index++){percent=parseInt($tbodies.eq(index).width()/overallWidth*1e3,10)/10+"%";$colgroup.append($("<col>").css("width",percent))}c.$table.prepend($colgroup)}},getData:function(header,configHeader,key){var meta,cl4ss,val="",$header=$(header);if(!$header.length){return""}meta=$.metadata?$header.metadata():false;cl4ss=" "+($header.attr("class")||"");if(typeof $header.data(key)!=="undefined"||typeof $header.data(key.toLowerCase())!=="undefined"){val+=$header.data(key)||$header.data(key.toLowerCase())}else if(meta&&typeof meta[key]!=="undefined"){val+=meta[key]}else if(configHeader&&typeof configHeader[key]!=="undefined"){val+=configHeader[key]}else if(cl4ss!==" "&&cl4ss.match(" "+key+"-")){val=cl4ss.match(new RegExp("\\s"+key+"-([\\w-]+)"))[1]||""}return $.trim(val)},getColumnData:function(table,obj,indx,getCell,$headers){if(typeof obj==="undefined"||obj===null){return}table=$(table)[0];var $header,key,c=table.config,$cells=$headers||c.$headers,$cell=c.$headerIndexed&&c.$headerIndexed[indx]||$cells.filter('[data-column="'+indx+'"]:last');if(obj[indx]){return getCell?obj[indx]:obj[$cells.index($cell)]}for(key in obj){if(typeof key==="string"){$header=$cell.filter(key).add($cell.find(key));if($header.length){return obj[key]}}}return},isProcessing:function($table,toggle,$headers){$table=$($table);var c=$table[0].config,$header=$headers||$table.find("."+ts.css.header);if(toggle){if(typeof $headers!=="undefined"&&c.sortList.length>0){$header=$header.filter(function(){return this.sortDisabled?false:ts.isValueInArray(parseFloat($(this).attr("data-column")),c.sortList)>=0})}$table.add($header).addClass(ts.css.processing+" "+c.cssProcessing)}else{$table.add($header).removeClass(ts.css.processing+" "+c.cssProcessing)}},processTbody:function(table,$tb,getIt){table=$(table)[0];if(getIt){table.isProcessing=true;$tb.before('<colgroup class="tablesorter-savemyplace"/>');return $.fn.detach?$tb.detach():$tb.remove()}var holdr=$(table).find("colgroup.tablesorter-savemyplace");$tb.insertAfter(holdr);holdr.remove();table.isProcessing=false},clearTableBody:function(table){$(table)[0].config.$tbodies.children().detach()},characterEquivalents:{a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõöō",O:"ÓÒÔÕÖŌ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"},replaceAccents:function(str){var chr,acc="[",eq=ts.characterEquivalents;if(!ts.characterRegex){ts.characterRegexArray={};for(chr in eq){if(typeof chr==="string"){acc+=eq[chr];ts.characterRegexArray[chr]=new RegExp("["+eq[chr]+"]","g")}}ts.characterRegex=new RegExp(acc+"]")}if(ts.characterRegex.test(str)){for(chr in eq){if(typeof chr==="string"){str=str.replace(ts.characterRegexArray[chr],chr)}}}return str},restoreHeaders:function(table){var index,$cell,c=$(table)[0].config,$headers=c.$table.find(c.selectorHeaders),len=$headers.length;for(index=0;index<len;index++){$cell=$headers.eq(index);if($cell.find("."+ts.css.headerIn).length){$cell.html(c.headerContent[index])}}},destroy:function(table,removeClasses,callback){table=$(table)[0];if(!table.hasInitialized){return}ts.removeWidget(table,true,false);var events,$t=$(table),c=table.config,debug=c.debug,$h=$t.find("thead:first"),$r=$h.find("tr."+ts.css.headerRow).removeClass(ts.css.headerRow+" "+c.cssHeaderRow),$f=$t.find("tfoot:first > tr").children("th, td");if(removeClasses===false&&$.inArray("uitheme",c.widgets)>=0){$t.triggerHandler("applyWidgetId",["uitheme"]);$t.triggerHandler("applyWidgetId",["zebra"])}$h.find("tr").not($r).remove();events="sortReset update updateRows updateAll updateHeaders updateCell addRows updateComplete sorton "+"appendCache updateCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress "+"sortBegin sortEnd resetToLoadState ".split(" ").join(c.namespace+" ");$t.removeData("tablesorter").unbind(events.replace(ts.regex.spaces," "));c.$headers.add($f).removeClass([ts.css.header,c.cssHeader,c.cssAsc,c.cssDesc,ts.css.sortAsc,ts.css.sortDesc,ts.css.sortNone].join(" ")).removeAttr("data-column").removeAttr("aria-label").attr("aria-disabled","true");$r.find(c.selectorSort).unbind("mousedown mouseup keypress ".split(" ").join(c.namespace+" ").replace(ts.regex.spaces," "));ts.restoreHeaders(table);$t.toggleClass(ts.css.table+" "+c.tableClass+" tablesorter-"+c.theme,removeClasses===false);table.hasInitialized=false;delete table.config.cache;if(typeof callback==="function"){callback(table)}if(debug){console.log("tablesorter has been removed")}}};$.fn.tablesorter=function(settings){return this.each(function(){var table=this,c=$.extend(true,{},ts.defaults,settings,ts.instanceMethods);c.originalSettings=settings;if(!table.hasInitialized&&ts.buildTable&&this.nodeName!=="TABLE"){ts.buildTable(table,c)}else{ts.setup(table,c)}})};if(!(window.console&&window.console.log)){ts.logs=[];console={};console.log=console.warn=console.error=console.table=function(){var arg=arguments.length>1?arguments:arguments[0];ts.logs.push({date:Date.now(),log:arg})}}ts.addParser({id:"no-parser",is:function(){return false},format:function(){return""},type:"text"});ts.addParser({id:"text",is:function(){return true},format:function(str,table){var c=table.config;if(str){str=$.trim(c.ignoreCase?str.toLocaleLowerCase():str);str=c.sortLocaleCompare?ts.replaceAccents(str):str}return str},type:"text"});ts.regex.nondigit=/[^\w,. \-()]/g;ts.addParser({id:"digit",is:function(str){return ts.isDigit(str)},format:function(str,table){var num=ts.formatFloat((str||"").replace(ts.regex.nondigit,""),table);return str&&typeof num==="number"?num:str?$.trim(str&&table.config.ignoreCase?str.toLocaleLowerCase():str):str},type:"numeric"});ts.regex.currencyReplace=/[+\-,. ]/g;ts.regex.currencyTest=/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/;ts.addParser({id:"currency",is:function(str){str=(str||"").replace(ts.regex.currencyReplace,"");return ts.regex.currencyTest.test(str)},format:function(str,table){var num=ts.formatFloat((str||"").replace(ts.regex.nondigit,""),table);return str&&typeof num==="number"?num:str?$.trim(str&&table.config.ignoreCase?str.toLocaleLowerCase():str):str},type:"numeric"});ts.regex.urlProtocolTest=/^(https?|ftp|file):\/\//;ts.regex.urlProtocolReplace=/(https?|ftp|file):\/\//;ts.addParser({id:"url",is:function(str){return ts.regex.urlProtocolTest.test(str)},format:function(str){return str?$.trim(str.replace(ts.regex.urlProtocolReplace,"")):str},parsed:true,type:"text"});ts.regex.dash=/-/g;ts.regex.isoDate=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/;ts.addParser({id:"isoDate",is:function(str){return ts.regex.isoDate.test(str)},format:function(str,table){var date=str?new Date(str.replace(ts.regex.dash,"/")):str;return date instanceof Date&&isFinite(date)?date.getTime():str},type:"numeric"});ts.regex.percent=/%/g;ts.regex.percentTest=/(\d\s*?%|%\s*?\d)/;ts.addParser({id:"percent",is:function(str){return ts.regex.percentTest.test(str)&&str.length<15},format:function(str,table){return str?ts.formatFloat(str.replace(ts.regex.percent,""),table):str},type:"numeric"});ts.addParser({id:"image",is:function(str,table,node,$node){return $node.find("img").length>0},format:function(str,table,cell){return $(cell).find("img").attr(table.config.imgAttr||"alt")||str},parsed:true,type:"text"});ts.regex.dateReplace=/(\S)([AP]M)$/i;ts.regex.usLongDateTest1=/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i;ts.regex.usLongDateTest2=/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i;ts.addParser({id:"usLongDate",is:function(str){return ts.regex.usLongDateTest1.test(str)||ts.regex.usLongDateTest2.test(str)},format:function(str,table){var date=str?new Date(str.replace(ts.regex.dateReplace,"$1 $2")):str;return date instanceof Date&&isFinite(date)?date.getTime():str},type:"numeric"});ts.regex.shortDateTest=/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/;ts.regex.shortDateReplace=/[\-.,]/g;ts.regex.shortDateXXY=/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/;ts.regex.shortDateYMD=/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/;ts.convertFormat=function(dateString,format){dateString=(dateString||"").replace(ts.regex.spaces," ").replace(ts.regex.shortDateReplace,"/");if(format==="mmddyyyy"){dateString=dateString.replace(ts.regex.shortDateXXY,"$3/$1/$2")}else if(format==="ddmmyyyy"){dateString=dateString.replace(ts.regex.shortDateXXY,"$3/$2/$1")}else if(format==="yyyymmdd"){dateString=dateString.replace(ts.regex.shortDateYMD,"$1/$2/$3")}var date=new Date(dateString);return date instanceof Date&&isFinite(date)?date.getTime():""};ts.addParser({id:"shortDate",is:function(str){str=(str||"").replace(ts.regex.spaces," ").replace(ts.regex.shortDateReplace,"/");return ts.regex.shortDateTest.test(str)},format:function(str,table,cell,cellIndex){if(str){var c=table.config,$header=c.$headerIndexed[cellIndex],format=$header.length&&$header.data("dateFormat")||ts.getData($header,ts.getColumnData(table,c.headers,cellIndex),"dateFormat")||c.dateFormat;if($header.length){$header.data("dateFormat",format)}return ts.convertFormat(str,format)||str}return str},type:"numeric"});ts.regex.timeTest=/^([1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)$/i;ts.regex.timeMatch=/([1-9]|1[0-2]):([0-5]\d)(\s[AP]M)|((?:[01]\d|[2][0-4]):[0-5]\d)/i;ts.addParser({id:"time",is:function(str){return ts.regex.timeTest.test(str)},format:function(str,table){var temp,timePart=(str||"").match(ts.regex.timeMatch),orig=new Date(str),time=str&&(timePart!==null?timePart[0]:"00:00 AM"),date=time?new Date("2000/01/01 "+time.replace(ts.regex.dateReplace,"$1 $2")):time;if(date instanceof Date&&isFinite(date)){temp=orig instanceof Date&&isFinite(orig)?orig.getTime():0;return temp?parseFloat(date.getTime()+"."+orig.getTime()):date.getTime()}return str},type:"numeric"});ts.addParser({id:"metadata",is:function(){return false},format:function(str,table,cell){var c=table.config,p=!c.parserMetadataName?"sortValue":c.parserMetadataName;return $(cell).metadata()[p]},type:"numeric"});ts.addWidget({id:"zebra",priority:90,format:function(table,c,wo){var $visibleRows,$row,count,isEven,tbodyIndex,rowIndex,len,child=new RegExp(c.cssChildRow,"i"),$tbodies=c.$tbodies.add($(c.namespace+"_extra_table").children("tbody:not(."+c.cssInfoBlock+")"));for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){count=0;$visibleRows=$tbodies.eq(tbodyIndex).children("tr:visible").not(c.selectorRemove);len=$visibleRows.length;for(rowIndex=0;rowIndex<len;rowIndex++){$row=$visibleRows.eq(rowIndex);if(!child.test($row[0].className)){count++}isEven=count%2===0;$row.removeClass(wo.zebra[isEven?1:0]).addClass(wo.zebra[isEven?0:1])}}},remove:function(table,c,wo,refreshing){if(refreshing){return}var tbodyIndex,$tbody,$tbodies=c.$tbodies,toRemove=(wo.zebra||["even","odd"]).join(" ");for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,$tbodies.eq(tbodyIndex),true);$tbody.children().removeClass(toRemove);ts.processTbody(table,$tbody,false)}}})})(jQuery);(function($,window,document){"use strict";var ts=$.tablesorter||{};ts.storage=function(table,key,value,options){table=$(table)[0];var cookieIndex,cookies,date,hasStorage=false,values={},c=table.config,wo=c&&c.widgetOptions,storageType=options&&options.useSessionStorage||wo&&wo.storage_useSessionStorage?"sessionStorage":"localStorage",$table=$(table),id=options&&options.id||$table.attr(options&&options.group||wo&&wo.storage_group||"data-table-group")||wo&&wo.storage_tableId||table.id||$(".tablesorter").index($table),url=options&&options.url||$table.attr(options&&options.page||wo&&wo.storage_page||"data-table-page")||wo&&wo.storage_fixedUrl||c&&c.fixedUrl||window.location.pathname;if(storageType in window){try{window[storageType].setItem("_tmptest","temp");hasStorage=true;window[storageType].removeItem("_tmptest")}catch(error){if(c&&c.debug){console.warn(storageType+" is not supported in this browser")}}}if($.parseJSON){if(hasStorage){values=$.parseJSON(window[storageType][key]||"null")||{}}else{cookies=document.cookie.split(/[;\s|=]/);cookieIndex=$.inArray(key,cookies)+1;values=cookieIndex!==0?$.parseJSON(cookies[cookieIndex]||"null")||{}:{}}}if((value||value==="")&&window.JSON&&JSON.hasOwnProperty("stringify")){if(!values[url]){values[url]={}}values[url][id]=value;if(hasStorage){window[storageType][key]=JSON.stringify(values)}else{date=new Date;date.setTime(date.getTime()+31536e6);document.cookie=key+"="+JSON.stringify(values).replace(/\"/g,'"')+"; expires="+date.toGMTString()+"; path=/"}}else{return values&&values[url]?values[url][id]:""}}})(jQuery,window,document);(function($){"use strict";var ts=$.tablesorter||{};ts.themes={bootstrap:{table:"table table-bordered table-striped",caption:"caption",header:"bootstrap-header",sortNone:"",sortAsc:"",sortDesc:"",active:"",hover:"",icons:"",iconSortNone:"bootstrap-icon-unsorted",iconSortAsc:"icon-chevron-up glyphicon glyphicon-chevron-up",iconSortDesc:"icon-chevron-down glyphicon glyphicon-chevron-down",filterRow:"",footerRow:"",footerCells:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",caption:"ui-widget-content",header:"ui-widget-header ui-corner-all ui-state-default",sortNone:"",sortAsc:"",sortDesc:"",active:"ui-state-active",hover:"ui-state-hover",icons:"ui-icon",iconSortNone:"ui-icon-carat-2-n-s",iconSortAsc:"ui-icon-carat-1-n",iconSortDesc:"ui-icon-carat-1-s",filterRow:"",footerRow:"",footerCells:"",even:"ui-widget-content",odd:"ui-state-default"}};$.extend(ts.css,{wrapper:"tablesorter-wrapper"});ts.addWidget({id:"uitheme",priority:10,format:function(table,c,wo){var i,hdr,icon,time,$header,$icon,$tfoot,$h,oldtheme,oldremove,oldIconRmv,hasOldTheme,themesAll=ts.themes,$table=c.$table.add($(c.namespace+"_extra_table")),$headers=c.$headers.add($(c.namespace+"_extra_headers")),theme=c.theme||"jui",themes=themesAll[theme]||{},remove=$.trim([themes.sortNone,themes.sortDesc,themes.sortAsc,themes.active].join(" ")),iconRmv=$.trim([themes.iconSortNone,themes.iconSortDesc,themes.iconSortAsc].join(" "));if(c.debug){time=new Date}if(!$table.hasClass("tablesorter-"+theme)||c.theme!==c.appliedTheme||!wo.uitheme_applied){wo.uitheme_applied=true;oldtheme=themesAll[c.appliedTheme]||{};hasOldTheme=!$.isEmptyObject(oldtheme);oldremove=hasOldTheme?[oldtheme.sortNone,oldtheme.sortDesc,oldtheme.sortAsc,oldtheme.active].join(" "):"";oldIconRmv=hasOldTheme?[oldtheme.iconSortNone,oldtheme.iconSortDesc,oldtheme.iconSortAsc].join(" "):"";if(hasOldTheme){wo.zebra[0]=$.trim(" "+wo.zebra[0].replace(" "+oldtheme.even,""));wo.zebra[1]=$.trim(" "+wo.zebra[1].replace(" "+oldtheme.odd,""));c.$tbodies.children().removeClass([oldtheme.even,oldtheme.odd].join(" "))}if(themes.even){wo.zebra[0]+=" "+themes.even}if(themes.odd){wo.zebra[1]+=" "+themes.odd}$table.children("caption").removeClass(oldtheme.caption||"").addClass(themes.caption);$tfoot=$table.removeClass((c.appliedTheme?"tablesorter-"+(c.appliedTheme||""):"")+" "+(oldtheme.table||"")).addClass("tablesorter-"+theme+" "+(themes.table||"")).children("tfoot");c.appliedTheme=c.theme;if($tfoot.length){$tfoot.children("tr").removeClass(oldtheme.footerRow||"").addClass(themes.footerRow).children("th, td").removeClass(oldtheme.footerCells||"").addClass(themes.footerCells)}$headers.removeClass((hasOldTheme?[oldtheme.header,oldtheme.hover,oldremove].join(" "):"")||"").addClass(themes.header).not(".sorter-false").unbind("mouseenter.tsuitheme mouseleave.tsuitheme").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(event){$(this)[event.type==="mouseenter"?"addClass":"removeClass"](themes.hover||"")});$headers.each(function(){var $this=$(this);if(!$this.find("."+ts.css.wrapper).length){$this.wrapInner('<div class="'+ts.css.wrapper+'" style="position:relative;height:100%;width:100%"></div>')}});if(c.cssIcon){$headers.find("."+ts.css.icon).removeClass(hasOldTheme?[oldtheme.icons,oldIconRmv].join(" "):"").addClass(themes.icons||"")}if($table.hasClass("hasFilters")){$table.children("thead").children("."+ts.css.filterRow).removeClass(hasOldTheme?oldtheme.filterRow||"":"").addClass(themes.filterRow||"")}}for(i=0;i<c.columns;i++){$header=c.$headers.add($(c.namespace+"_extra_headers")).not(".sorter-false").filter('[data-column="'+i+'"]');$icon=ts.css.icon?$header.find("."+ts.css.icon):$();$h=$headers.not(".sorter-false").filter('[data-column="'+i+'"]:last');if($h.length){$header.removeClass(remove);$icon.removeClass(iconRmv);if($h[0].sortDisabled){$icon.removeClass(themes.icons||"")}else{hdr=themes.sortNone;icon=themes.iconSortNone;if($h.hasClass(ts.css.sortAsc)){hdr=[themes.sortAsc,themes.active].join(" ");icon=themes.iconSortAsc}else if($h.hasClass(ts.css.sortDesc)){hdr=[themes.sortDesc,themes.active].join(" ");icon=themes.iconSortDesc}$header.addClass(hdr);$icon.addClass(icon||"")}}}if(c.debug){console.log("Applying "+theme+" theme"+ts.benchmark(time))}},remove:function(table,c,wo,refreshing){if(!wo.uitheme_applied){return}var $table=c.$table,theme=c.appliedTheme||"jui",themes=ts.themes[theme]||ts.themes.jui,$headers=$table.children("thead").children(),remove=themes.sortNone+" "+themes.sortDesc+" "+themes.sortAsc,iconRmv=themes.iconSortNone+" "+themes.iconSortDesc+" "+themes.iconSortAsc;$table.removeClass("tablesorter-"+theme+" "+themes.table);wo.uitheme_applied=false;if(refreshing){return}$table.find(ts.css.header).removeClass(themes.header);$headers.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(themes.hover+" "+remove+" "+themes.active).filter("."+ts.css.filterRow).removeClass(themes.filterRow);$headers.find("."+ts.css.icon).removeClass(themes.icons+" "+iconRmv)}})})(jQuery);(function($){"use strict";var ts=$.tablesorter||{};ts.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(table,c,wo){var $tbody,tbodyIndex,$rows,rows,$row,$cells,remove,indx,$table=c.$table,$tbodies=c.$tbodies,sortList=c.sortList,len=sortList.length,css=wo&&wo.columns||["primary","secondary","tertiary"],last=css.length-1;remove=css.join(" ");for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,$tbodies.eq(tbodyIndex),true);$rows=$tbody.children("tr");$rows.each(function(){$row=$(this);if(this.style.display!=="none"){$cells=$row.children().removeClass(remove);if(sortList&&sortList[0]){$cells.eq(sortList[0][0]).addClass(css[0]);if(len>1){for(indx=1;indx<len;indx++){$cells.eq(sortList[indx][0]).addClass(css[indx]||css[last])}}}}});ts.processTbody(table,$tbody,false)}rows=wo.columns_thead!==false?["thead tr"]:[];if(wo.columns_tfoot!==false){rows.push("tfoot tr")}if(rows.length){$rows=$table.find(rows.join(",")).children().removeClass(remove);if(len){for(indx=0;indx<len;indx++){$rows.filter('[data-column="'+sortList[indx][0]+'"]').addClass(css[indx]||css[last])}}}},remove:function(table,c,wo){var tbodyIndex,$tbody,$tbodies=c.$tbodies,remove=(wo.columns||["primary","secondary","tertiary"]).join(" ");c.$headers.removeClass(remove);c.$table.children("tfoot").children("tr").children("th, td").removeClass(remove);for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,$tbodies.eq(tbodyIndex),true);$tbody.children("tr").each(function(){$(this).children().removeClass(remove)});ts.processTbody(table,$tbody,false)}}})})(jQuery);(function($){"use strict";var tsf,tsfRegex,ts=$.tablesorter||{},tscss=ts.css;$.extend(tscss,{filterRow:"tablesorter-filter-row",filter:"tablesorter-filter",filterDisabled:"disabled",filterRowHide:"hideme"});ts.addWidget({id:"filter",priority:50,options:{filter_childRows:false,filter_childByColumn:false,filter_childWithSibs:true,filter_columnFilters:true,filter_columnAnyMatch:true,filter_cellFilter:"",filter_cssFilter:"",filter_defaultFilter:{},filter_excludeFilter:{},filter_external:"",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideEmpty:true,filter_hideFilters:false,filter_ignoreCase:true,filter_liveSearch:true,filter_onlyAvail:"filter-onlyAvail",filter_placeholder:{search:"",select:""},filter_reset:null,filter_saveFilters:false,filter_searchDelay:300,filter_searchFiltered:true,filter_selectSource:null,filter_startsWith:false,filter_useParsedData:false,filter_serversideFiltering:false,filter_defaultAttrib:"data-value",filter_selectSourceSeparator:"|"},format:function(table,c,wo){if(!c.$table.hasClass("hasFilters")){tsf.init(table,c,wo)}},remove:function(table,c,wo,refreshing){var tbodyIndex,$tbody,$table=c.$table,$tbodies=c.$tbodies,events="addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(c.namespace+"filter ");$table.removeClass("hasFilters").unbind(events.replace(ts.regex.spaces," ")).find("."+tscss.filterRow).remove();if(refreshing){return}for(tbodyIndex=0;tbodyIndex<$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,$tbodies.eq(tbodyIndex),true);$tbody.children().removeClass(wo.filter_filteredRow).show();ts.processTbody(table,$tbody,false)}if(wo.filter_reset){$(document).undelegate(wo.filter_reset,"click"+c.namespace+"filter")}}});tsf=ts.filter={regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"\'=]+)|([\"\'=]+$)/g,operators:/[<>=]/g,query:"(q|query)",wild01:/\?/g,wild0More:/\*/g,quote:/\"/g,isNeg1:/(>=?\s*-\d)/,isNeg2:/(<=?\s*\d)/},types:{or:function(c,data,vars){if((tsfRegex.orTest.test(data.iFilter)||tsfRegex.orSplit.test(data.filter))&&!tsfRegex.regex.test(data.filter)){var indx,filterMatched,query,regex,data2=$.extend({},data),filter=data.filter.split(tsfRegex.orSplit),iFilter=data.iFilter.split(tsfRegex.orSplit),len=filter.length;for(indx=0;indx<len;indx++){data2.nestedFilters=true;data2.filter=""+(tsf.parseFilter(c,filter[indx],data)||"");data2.iFilter=""+(tsf.parseFilter(c,iFilter[indx],data)||"");query="("+(tsf.parseFilter(c,data2.filter,data)||"")+")";try{regex=new RegExp(data.isMatch?query:"^"+query+"$",c.widgetOptions.filter_ignoreCase?"i":"");filterMatched=regex.test(data2.exact)||tsf.processTypes(c,data2,vars);if(filterMatched){return filterMatched}}catch(error){return null}}return filterMatched||false}return null},and:function(c,data,vars){if(tsfRegex.andTest.test(data.filter)){var indx,filterMatched,result,query,regex,data2=$.extend({},data),filter=data.filter.split(tsfRegex.andSplit),iFilter=data.iFilter.split(tsfRegex.andSplit),len=filter.length;
for(indx=0;indx<len;indx++){data2.nestedFilters=true;data2.filter=""+(tsf.parseFilter(c,filter[indx],data)||"");data2.iFilter=""+(tsf.parseFilter(c,iFilter[indx],data)||"");query=("("+(tsf.parseFilter(c,data2.filter,data)||"")+")").replace(tsfRegex.wild01,"\\S{1}").replace(tsfRegex.wild0More,"\\S*");try{regex=new RegExp(data.isMatch?query:"^"+query+"$",c.widgetOptions.filter_ignoreCase?"i":"");result=regex.test(data2.exact)||tsf.processTypes(c,data2,vars);if(indx===0){filterMatched=result}else{filterMatched=filterMatched&&result}}catch(error){return null}}return filterMatched||false}return null},regex:function(c,data){if(tsfRegex.regex.test(data.filter)){var matches,regex=data.filter_regexCache[data.index]||tsfRegex.regex.exec(data.filter),isRegex=regex instanceof RegExp;try{if(!isRegex){data.filter_regexCache[data.index]=regex=new RegExp(regex[1],regex[2])}matches=regex.test(data.exact)}catch(error){matches=false}return matches}return null},operators:function(c,data){if(tsfRegex.operTest.test(data.iFilter)&&data.iExact!==""){var cachedValue,result,txt,table=c.table,parsed=data.parsed[data.index],query=ts.formatFloat(data.iFilter.replace(tsfRegex.operators,""),table),parser=c.parsers[data.index],savedSearch=query;if(parsed||parser.type==="numeric"){txt=$.trim(""+data.iFilter.replace(tsfRegex.operators,""));result=tsf.parseFilter(c,txt,data,true);query=typeof result==="number"&&result!==""&&!isNaN(result)?result:query}if((parsed||parser.type==="numeric")&&!isNaN(query)&&typeof data.cache!=="undefined"){cachedValue=data.cache}else{txt=isNaN(data.iExact)?data.iExact.replace(ts.regex.nondigit,""):data.iExact;cachedValue=ts.formatFloat(txt,table)}if(tsfRegex.gtTest.test(data.iFilter)){result=tsfRegex.gteTest.test(data.iFilter)?cachedValue>=query:cachedValue>query}else if(tsfRegex.ltTest.test(data.iFilter)){result=tsfRegex.lteTest.test(data.iFilter)?cachedValue<=query:cachedValue<query}if(!result&&savedSearch===""){result=true}return result}return null},notMatch:function(c,data){if(tsfRegex.notTest.test(data.iFilter)){var indx,txt=data.iFilter.replace("!",""),filter=tsf.parseFilter(c,txt,data)||"";if(tsfRegex.exact.test(filter)){filter=filter.replace(tsfRegex.exact,"");return filter===""?true:$.trim(filter)!==data.iExact}else{indx=data.iExact.search($.trim(filter));return filter===""?true:!(c.widgetOptions.filter_startsWith?indx===0:indx>=0)}}return null},exact:function(c,data){if(tsfRegex.exact.test(data.iFilter)){var txt=data.iFilter.replace(tsfRegex.exact,""),filter=tsf.parseFilter(c,txt,data)||"";return data.anyMatch?$.inArray(filter,data.rowArray)>=0:filter==data.iExact}return null},range:function(c,data){if(tsfRegex.toTest.test(data.iFilter)){var result,tmp,range1,range2,table=c.table,index=data.index,parsed=data.parsed[index],query=data.iFilter.split(tsfRegex.toSplit);tmp=query[0].replace(ts.regex.nondigit,"")||"";range1=ts.formatFloat(tsf.parseFilter(c,tmp,data),table);tmp=query[1].replace(ts.regex.nondigit,"")||"";range2=ts.formatFloat(tsf.parseFilter(c,tmp,data),table);if(parsed||c.parsers[index].type==="numeric"){result=c.parsers[index].format(""+query[0],table,c.$headers.eq(index),index);range1=result!==""&&!isNaN(result)?result:range1;result=c.parsers[index].format(""+query[1],table,c.$headers.eq(index),index);range2=result!==""&&!isNaN(result)?result:range2}if((parsed||c.parsers[index].type==="numeric")&&!isNaN(range1)&&!isNaN(range2)){result=data.cache}else{tmp=isNaN(data.iExact)?data.iExact.replace(ts.regex.nondigit,""):data.iExact;result=ts.formatFloat(tmp,table)}if(range1>range2){tmp=range1;range1=range2;range2=tmp}return result>=range1&&result<=range2||(range1===""||range2==="")}return null},wild:function(c,data){if(tsfRegex.wildOrTest.test(data.iFilter)){var query=""+(tsf.parseFilter(c,data.iFilter,data)||"");if(!tsfRegex.wildTest.test(query)&&data.nestedFilters){query=data.isMatch?query:"^("+query+")$"}try{return new RegExp(query.replace(tsfRegex.wild01,"\\S{1}").replace(tsfRegex.wild0More,"\\S*"),c.widgetOptions.filter_ignoreCase?"i":"").test(data.exact)}catch(error){return null}}return null},fuzzy:function(c,data){if(tsfRegex.fuzzyTest.test(data.iFilter)){var indx,patternIndx=0,len=data.iExact.length,txt=data.iFilter.slice(1),pattern=tsf.parseFilter(c,txt,data)||"";for(indx=0;indx<len;indx++){if(data.iExact[indx]===pattern[patternIndx]){patternIndx+=1}}return patternIndx===pattern.length}return null}},init:function(table,c,wo){ts.language=$.extend(true,{},{to:"to",or:"or",and:"and"},ts.language);var options,string,txt,$header,column,filters,val,fxn,noSelect;c.$table.addClass("hasFilters");wo.filter_searchTimer=null;wo.filter_initTimer=null;wo.filter_formatterCount=0;wo.filter_formatterInit=[];wo.filter_anyColumnSelector='[data-column="all"],[data-column="any"]';wo.filter_multipleColumnSelector='[data-column*="-"],[data-column*=","]';val="\\{"+tsfRegex.query+"\\}";$.extend(tsfRegex,{child:new RegExp(c.cssChildRow),filtered:new RegExp(wo.filter_filteredRow),alreadyFiltered:new RegExp("(\\s+("+ts.language.or+"|-|"+ts.language.to+")\\s+)","i"),toTest:new RegExp("\\s+(-|"+ts.language.to+")\\s+","i"),toSplit:new RegExp("(?:\\s+(?:-|"+ts.language.to+")\\s+)","gi"),andTest:new RegExp("\\s+("+ts.language.and+"|&&)\\s+","i"),andSplit:new RegExp("(?:\\s+(?:"+ts.language.and+"|&&)\\s+)","gi"),orTest:/\|/,orSplit:new RegExp("(?:\\s+(?:"+ts.language.or+")\\s+|\\|)","gi"),iQuery:new RegExp(val,"i"),igQuery:new RegExp(val,"ig"),operTest:/^[<>]=?/,gtTest:/>/,gteTest:/>=/,ltTest:/</,lteTest:/<=/,notTest:/^\!/,wildOrTest:/[\?\*\|]/,wildTest:/\?\*/,fuzzyTest:/^~/,exactTest:/[=\"\|!]/});val=c.$headers.filter(".filter-false, .parser-false").length;if(wo.filter_columnFilters!==false&&val!==c.$headers.length){tsf.buildRow(table,c,wo)}txt="addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(c.namespace+"filter ");c.$table.bind(txt,function(event,filter){val=wo.filter_hideEmpty&&$.isEmptyObject(c.cache)&&!(c.delayInit&&event.type==="appendCache");c.$table.find("."+tscss.filterRow).toggleClass(wo.filter_filteredRow,val);if(!/(search|filter)/.test(event.type)){event.stopPropagation();tsf.buildDefault(table,true)}if(event.type==="filterReset"){c.$table.find("."+tscss.filter).add(wo.filter_$externalFilters).val("");tsf.searching(table,[])}else if(event.type==="filterEnd"){tsf.buildDefault(table,true)}else{filter=event.type==="search"?filter:event.type==="updateComplete"?c.$table.data("lastSearch"):"";if(/(update|add)/.test(event.type)&&event.type!=="updateComplete"){c.lastCombinedFilter=null;c.lastSearch=[]}tsf.searching(table,filter,true)}return false});if(wo.filter_reset){if(wo.filter_reset instanceof $){wo.filter_reset.click(function(){c.$table.triggerHandler("filterReset")})}else if($(wo.filter_reset).length){$(document).undelegate(wo.filter_reset,"click"+c.namespace+"filter").delegate(wo.filter_reset,"click"+c.namespace+"filter",function(){c.$table.triggerHandler("filterReset")})}}if(wo.filter_functions){for(column=0;column<c.columns;column++){fxn=ts.getColumnData(table,wo.filter_functions,column);if(fxn){$header=c.$headerIndexed[column].removeClass("filter-select");noSelect=!($header.hasClass("filter-false")||$header.hasClass("parser-false"));options="";if(fxn===true&&noSelect){tsf.buildSelect(table,column)}else if(typeof fxn==="object"&&noSelect){for(string in fxn){if(typeof string==="string"){options+=options===""?'<option value="">'+($header.data("placeholder")||$header.attr("data-placeholder")||wo.filter_placeholder.select||"")+"</option>":"";val=string;txt=string;if(string.indexOf(wo.filter_selectSourceSeparator)>=0){val=string.split(wo.filter_selectSourceSeparator);txt=val[1];val=val[0]}options+="<option "+(txt===val?"":'data-function-name="'+string+'" ')+'value="'+val+'">'+txt+"</option>"}}c.$table.find("thead").find("select."+tscss.filter+'[data-column="'+column+'"]').append(options);txt=wo.filter_selectSource;fxn=typeof txt==="function"?true:ts.getColumnData(table,txt,column);if(fxn){tsf.buildSelect(c.table,column,"",true,$header.hasClass(wo.filter_onlyAvail))}}}}}tsf.buildDefault(table,true);tsf.bindSearch(table,c.$table.find("."+tscss.filter),true);if(wo.filter_external){tsf.bindSearch(table,wo.filter_external)}if(wo.filter_hideFilters){tsf.hideFilters(c)}if(c.showProcessing){txt="filterStart filterEnd ".split(" ").join(c.namespace+"filter ");c.$table.unbind(txt.replace(ts.regex.spaces," ")).bind(txt,function(event,columns){$header=columns?c.$table.find("."+tscss.header).filter("[data-column]").filter(function(){return columns[$(this).data("column")]!==""}):"";ts.isProcessing(table,event.type==="filterStart",columns?$header:"")})}c.filteredRows=c.totalRows;txt="tablesorter-initialized pagerBeforeInitialized ".split(" ").join(c.namespace+"filter ");c.$table.unbind(txt.replace(ts.regex.spaces," ")).bind(txt,function(){var wo=this.config.widgetOptions;filters=tsf.setDefaults(table,c,wo)||[];if(filters.length){if(!(c.delayInit&&filters.join("")==="")){ts.setFilters(table,filters,true)}}c.$table.triggerHandler("filterFomatterUpdate");setTimeout(function(){if(!wo.filter_initialized){tsf.filterInitComplete(c)}},100)});if(c.pager&&c.pager.initialized&&!wo.filter_initialized){c.$table.triggerHandler("filterFomatterUpdate");setTimeout(function(){tsf.filterInitComplete(c)},100)}},formatterUpdated:function($cell,column){var wo=$cell&&$cell.closest("table")[0].config.widgetOptions;if(wo&&!wo.filter_initialized){wo.filter_formatterInit[column]=1}},filterInitComplete:function(c){var indx,len,wo=c.widgetOptions,count=0,completed=function(){wo.filter_initialized=true;c.$table.triggerHandler("filterInit",c);tsf.findRows(c.table,c.$table.data("lastSearch")||[])};if($.isEmptyObject(wo.filter_formatter)){completed()}else{len=wo.filter_formatterInit.length;for(indx=0;indx<len;indx++){if(wo.filter_formatterInit[indx]===1){count++}}clearTimeout(wo.filter_initTimer);if(!wo.filter_initialized&&count===wo.filter_formatterCount){completed()}else if(!wo.filter_initialized){wo.filter_initTimer=setTimeout(function(){completed()},500)}}},processFilters:function(filters,encode){var indx,mode=encode?encodeURIComponent:decodeURIComponent,len=filters.length;for(indx=0;indx<len;indx++){filters[indx]=mode(filters[indx])}return filters},setDefaults:function(table,c,wo){var isArray,saved,indx,col,$filters,filters=ts.getFilters(table)||[];if(wo.filter_saveFilters&&ts.storage){saved=ts.storage(table,"tablesorter-filters")||[];isArray=$.isArray(saved);if(!(isArray&&saved.join("")===""||!isArray)){filters=tsf.processFilters(saved)}}if(filters.join("")===""){$filters=c.$headers.add(wo.filter_$externalFilters).filter("["+wo.filter_defaultAttrib+"]");for(indx=0;indx<=c.columns;indx++){col=indx===c.columns?"all":indx;filters[indx]=$filters.filter('[data-column="'+col+'"]').attr(wo.filter_defaultAttrib)||filters[indx]||""}}c.$table.data("lastSearch",filters);return filters},parseFilter:function(c,filter,data,parsed){return parsed||data.parsed[data.index]?c.parsers[data.index].format(filter,c.table,[],data.index):filter},buildRow:function(table,c,wo){var $filter,col,column,$header,makeSelect,disabled,name,ffxn,tmp,cellFilter=wo.filter_cellFilter,columns=c.columns,arry=$.isArray(cellFilter),buildFilter='<tr role="row" class="'+tscss.filterRow+" "+c.cssIgnoreRow+'">';for(column=0;column<columns;column++){if(c.$headerIndexed[column].length){buildFilter+='<td data-column="'+column+'"';tmp=c.$headerIndexed[column]&&c.$headerIndexed[column][0].colSpan||0;if(tmp>1){buildFilter+=' colspan="'+tmp+'"'}if(arry){buildFilter+=cellFilter[column]?' class="'+cellFilter[column]+'"':""}else{buildFilter+=cellFilter!==""?' class="'+cellFilter+'"':""}buildFilter+="></td>"}}c.$filters=$(buildFilter+="</tr>").appendTo(c.$table.children("thead").eq(0)).children("td");for(column=0;column<columns;column++){disabled=false;$header=c.$headerIndexed[column];if($header&&$header.length){$filter=c.$filters.filter('[data-column="'+column+'"]');ffxn=ts.getColumnData(table,wo.filter_functions,column);makeSelect=wo.filter_functions&&ffxn&&typeof ffxn!=="function"||$header.hasClass("filter-select");col=ts.getColumnData(table,c.headers,column);disabled=ts.getData($header[0],col,"filter")==="false"||ts.getData($header[0],col,"parser")==="false";if(makeSelect){buildFilter=$("<select>").appendTo($filter)}else{ffxn=ts.getColumnData(table,wo.filter_formatter,column);if(ffxn){wo.filter_formatterCount++;buildFilter=ffxn($filter,column);if(buildFilter&&buildFilter.length===0){buildFilter=$filter.children("input")}if(buildFilter&&(buildFilter.parent().length===0||buildFilter.parent().length&&buildFilter.parent()[0]!==$filter[0])){$filter.append(buildFilter)}}else{buildFilter=$('<input type="search">').appendTo($filter)}if(buildFilter){tmp=$header.data("placeholder")||$header.attr("data-placeholder")||wo.filter_placeholder.search||"";buildFilter.attr("placeholder",tmp)}}if(buildFilter){name=($.isArray(wo.filter_cssFilter)?typeof wo.filter_cssFilter[column]!=="undefined"?wo.filter_cssFilter[column]||"":"":wo.filter_cssFilter)||"";buildFilter.addClass(tscss.filter+" "+name).attr("data-column",column);if(disabled){buildFilter.attr("placeholder","").addClass(tscss.filterDisabled)[0].disabled=true}}}}},bindSearch:function(table,$el,internal){table=$(table)[0];$el=$($el);if(!$el.length){return}var tmp,c=table.config,wo=c.widgetOptions,namespace=c.namespace+"filter",$ext=wo.filter_$externalFilters;if(internal!==true){tmp=wo.filter_anyColumnSelector+","+wo.filter_multipleColumnSelector;wo.filter_$anyMatch=$el.filter(tmp);if($ext&&$ext.length){wo.filter_$externalFilters=wo.filter_$externalFilters.add($el)}else{wo.filter_$externalFilters=$el}ts.setFilters(table,c.$table.data("lastSearch")||[],internal===false)}tmp="keypress keyup search change ".split(" ").join(namespace+" ");$el.attr("data-lastSearchTime",(new Date).getTime()).unbind(tmp.replace(ts.regex.spaces," ")).bind("keyup"+namespace,function(event){$(this).attr("data-lastSearchTime",(new Date).getTime());if(event.which===27){this.value=""}else if(wo.filter_liveSearch===false){return}else if(this.value!==""&&(typeof wo.filter_liveSearch==="number"&&this.value.length<wo.filter_liveSearch||event.which!==13&&event.which!==8&&(event.which<32||event.which>=37&&event.which<=40))){return}tsf.searching(table,true,true)}).bind("search change keypress ".split(" ").join(namespace+" "),function(event){var column=parseInt($(this).attr("data-column"),10);if(wo.filter_initialized&&(event.which===13||event.type==="search"||event.type==="change"&&this.value!==c.lastSearch[column])){event.preventDefault();$(this).attr("data-lastSearchTime",(new Date).getTime());tsf.searching(table,false,true)}})},searching:function(table,filter,skipFirst){var wo=table.config.widgetOptions;clearTimeout(wo.filter_searchTimer);if(typeof filter==="undefined"||filter===true){wo.filter_searchTimer=setTimeout(function(){tsf.checkFilters(table,filter,skipFirst)},wo.filter_liveSearch?wo.filter_searchDelay:10)}else{tsf.checkFilters(table,filter,skipFirst)}},checkFilters:function(table,filter,skipFirst){var c=table.config,wo=c.widgetOptions,filterArray=$.isArray(filter),filters=filterArray?filter:ts.getFilters(table,true),combinedFilters=(filters||[]).join("");if($.isEmptyObject(c.cache)){if(c.delayInit&&c.pager&&c.pager.initialized){ts.updateCache(c,function(){tsf.checkFilters(table,false,skipFirst)})}return}if(filterArray){ts.setFilters(table,filters,false,skipFirst!==true);if(!wo.filter_initialized){c.lastCombinedFilter=""}}if(wo.filter_hideFilters){c.$table.find("."+tscss.filterRow).triggerHandler(combinedFilters===""?"mouseleave":"mouseenter")}if(c.lastCombinedFilter===combinedFilters&&filter!==false){return}else if(filter===false){c.lastCombinedFilter=null;c.lastSearch=[]}filters=filters||[];filters=Array.prototype.map?filters.map(String):filters.join("\x00").split("\x00");if(wo.filter_initialized){c.$table.triggerHandler("filterStart",[filters])}if(c.showProcessing){setTimeout(function(){tsf.findRows(table,filters,combinedFilters);return false},30)}else{tsf.findRows(table,filters,combinedFilters);return false}},hideFilters:function(c,$table){var timer,$row=($table||c.$table).find("."+tscss.filterRow).addClass(tscss.filterRowHide);$row.bind("mouseenter mouseleave",function(e){var event=e,$filterRow=$(this);clearTimeout(timer);timer=setTimeout(function(){if(/enter|over/.test(event.type)){$filterRow.removeClass(tscss.filterRowHide)}else{if($(document.activeElement).closest("tr")[0]!==$filterRow[0]){if(c.lastCombinedFilter===""){$filterRow.addClass(tscss.filterRowHide)}}}},200)}).find("input, select").bind("focus blur",function(e){var event=e,$row=$(this).closest("tr");clearTimeout(timer);timer=setTimeout(function(){clearTimeout(timer);if(ts.getFilters(c.$table).join("")===""){$row.toggleClass(tscss.filterRowHide,event.type!=="focus")}},200)})},defaultFilter:function(filter,mask){if(filter===""){return filter}var regex=tsfRegex.iQuery,maskLen=mask.match(tsfRegex.igQuery).length,query=maskLen>1?$.trim(filter).split(/\s/):[$.trim(filter)],len=query.length-1,indx=0,val=mask;if(len<1&&maskLen>1){query[1]=query[0]}while(regex.test(val)){val=val.replace(regex,query[indx++]||"");if(regex.test(val)&&indx<len&&(query[indx]||"")!==""){val=mask.replace(regex,val)}}return val},getLatestSearch:function($input){if($input){return $input.sort(function(a,b){return $(b).attr("data-lastSearchTime")-$(a).attr("data-lastSearchTime")})}return $input||$()},multipleColumns:function(c,$input){var temp,ranges,range,start,end,singles,i,indx,len,wo=c.widgetOptions,targets=wo.filter_initialized||!$input.filter(wo.filter_anyColumnSelector).length,columns=[],val=$.trim(tsf.getLatestSearch($input).attr("data-column")||"");if(/^[0-9]+$/.test(val)){return parseInt(val,10)}if(targets&&/-/.test(val)){ranges=val.match(/(\d+)\s*-\s*(\d+)/g);len=ranges.length;for(indx=0;indx<len;indx++){range=ranges[indx].split(/\s*-\s*/);start=parseInt(range[0],10)||0;end=parseInt(range[1],10)||c.columns-1;if(start>end){temp=start;start=end;end=temp}if(end>=c.columns){end=c.columns-1}for(;start<=end;start++){columns.push(start)}val=val.replace(ranges[indx],"")}}if(targets&&/,/.test(val)){singles=val.split(/\s*,\s*/);len=singles.length;for(i=0;i<len;i++){if(singles[i]!==""){indx=parseInt(singles[i],10);if(indx<c.columns){columns.push(indx)}}}}if(!columns.length){for(indx=0;indx<c.columns;indx++){columns.push(indx)}}return columns},processTypes:function(c,data,vars){var ffxn,filterMatched=null,matches=null;for(ffxn in tsf.types){if($.inArray(ffxn,vars.excludeMatch)<0&&matches===null){matches=tsf.types[ffxn](c,data,vars);if(matches!==null){filterMatched=matches}}}return filterMatched},processRow:function(c,data,vars){var result,filterMatched,fxn,ffxn,txt,wo=c.widgetOptions,showRow=true,columnIndex=wo.filter_$anyMatch&&wo.filter_$anyMatch.length?tsf.multipleColumns(c,wo.filter_$anyMatch):[];data.$cells=data.$row.children();if(data.anyMatchFlag&&columnIndex.length>1){data.anyMatch=true;data.isMatch=true;data.rowArray=data.$cells.map(function(i){if($.inArray(i,columnIndex)>-1){if(data.parsed[i]){txt=data.cacheArray[i]}else{txt=data.rawArray[i];txt=$.trim(wo.filter_ignoreCase?txt.toLowerCase():txt);if(c.sortLocaleCompare){txt=ts.replaceAccents(txt)}}return txt}}).get();data.filter=data.anyMatchFilter;data.iFilter=data.iAnyMatchFilter;data.exact=data.rowArray.join(" ");data.iExact=wo.filter_ignoreCase?data.exact.toLowerCase():data.exact;data.cache=data.cacheArray.slice(0,-1).join(" ");vars.excludeMatch=vars.noAnyMatch;filterMatched=tsf.processTypes(c,data,vars);if(filterMatched!==null){showRow=filterMatched}else{if(wo.filter_startsWith){showRow=false;columnIndex=Math.min(c.columns,data.rowArray.length);while(!showRow&&columnIndex>0){columnIndex--;showRow=showRow||data.rowArray[columnIndex].indexOf(data.iFilter)===0}}else{showRow=(data.iExact+data.childRowText).indexOf(data.iFilter)>=0}}data.anyMatch=false;if(data.filters.join("")===data.filter){return showRow}}for(columnIndex=0;columnIndex<c.columns;columnIndex++){data.filter=data.filters[columnIndex];data.index=columnIndex;vars.excludeMatch=vars.excludeFilter[columnIndex];if(data.filter){data.cache=data.cacheArray[columnIndex];if(wo.filter_useParsedData||data.parsed[columnIndex]){data.exact=data.cache}else{result=data.rawArray[columnIndex]||"";data.exact=c.sortLocaleCompare?ts.replaceAccents(result):result}data.iExact=!tsfRegex.type.test(typeof data.exact)&&wo.filter_ignoreCase?data.exact.toLowerCase():data.exact;data.isMatch=c.$headerIndexed[data.index].hasClass("filter-match");result=showRow;ffxn=wo.filter_columnFilters?c.$filters.add(c.$externalFilters).filter('[data-column="'+columnIndex+'"]').find("select option:selected").attr("data-function-name")||"":"";if(c.sortLocaleCompare){data.filter=ts.replaceAccents(data.filter)}if(wo.filter_defaultFilter&&tsfRegex.iQuery.test(vars.defaultColFilter[columnIndex])){data.filter=tsf.defaultFilter(data.filter,vars.defaultColFilter[columnIndex])}data.iFilter=wo.filter_ignoreCase?(data.filter||"").toLowerCase():data.filter;fxn=vars.functions[columnIndex];filterMatched=null;if(fxn){if(fxn===true){filterMatched=data.isMatch?(""+data.iExact).search(data.iFilter)>=0:data.filter===data.exact}else if(typeof fxn==="function"){filterMatched=fxn(data.exact,data.cache,data.filter,columnIndex,data.$row,c,data)}else if(typeof fxn[ffxn||data.filter]==="function"){txt=ffxn||data.filter;filterMatched=fxn[txt](data.exact,data.cache,data.filter,columnIndex,data.$row,c,data)}}if(filterMatched===null){filterMatched=tsf.processTypes(c,data,vars);if(filterMatched!==null){result=filterMatched}else{txt=(data.iExact+data.childRowText).indexOf(tsf.parseFilter(c,data.iFilter,data));result=!wo.filter_startsWith&&txt>=0||wo.filter_startsWith&&txt===0}}else{result=filterMatched}showRow=result?showRow:false}}return showRow},findRows:function(table,filters,combinedFilters){if(table.config.lastCombinedFilter===combinedFilters||!table.config.widgetOptions.filter_initialized){return}var len,norm_rows,rowData,$rows,$row,rowIndex,tbodyIndex,$tbody,columnIndex,isChild,childRow,lastSearch,showRow,showParent,time,val,indx,notFiltered,searchFiltered,query,injected,res,id,txt,storedFilters=$.extend([],filters),c=table.config,wo=c.widgetOptions,data={anyMatch:false,filters:filters,filter_regexCache:[]},vars={noAnyMatch:["range","notMatch","operators"],functions:[],excludeFilter:[],defaultColFilter:[],defaultAnyFilter:ts.getColumnData(table,wo.filter_defaultFilter,c.columns,true)||""};data.parsed=c.$headers.map(function(columnIndex){return c.parsers&&c.parsers[columnIndex]&&c.parsers[columnIndex].parsed||ts.getData&&ts.getData(c.$headerIndexed[columnIndex],ts.getColumnData(table,c.headers,columnIndex),"filter")==="parsed"||$(this).hasClass("filter-parsed")}).get();for(columnIndex=0;columnIndex<c.columns;columnIndex++){vars.functions[columnIndex]=ts.getColumnData(table,wo.filter_functions,columnIndex);vars.defaultColFilter[columnIndex]=ts.getColumnData(table,wo.filter_defaultFilter,columnIndex)||"";vars.excludeFilter[columnIndex]=(ts.getColumnData(table,wo.filter_excludeFilter,columnIndex,true)||"").split(/\s+/)}if(c.debug){console.log("Filter: Starting filter widget search",filters);time=new Date}c.filteredRows=0;c.totalRows=0;combinedFilters=(storedFilters||[]).join("");for(tbodyIndex=0;tbodyIndex<c.$tbodies.length;tbodyIndex++){$tbody=ts.processTbody(table,c.$tbodies.eq(tbodyIndex),true);columnIndex=c.columns;norm_rows=c.cache[tbodyIndex].normalized;$rows=$($.map(norm_rows,function(el){return el[columnIndex].$row.get()}));if(combinedFilters===""||wo.filter_serversideFiltering){$rows.removeClass(wo.filter_filteredRow).not("."+c.cssChildRow).css("display","")}else{$rows=$rows.not("."+c.cssChildRow);len=$rows.length;if(wo.filter_$anyMatch&&wo.filter_$anyMatch.length||typeof filters[c.columns]!=="undefined"){data.anyMatchFlag=true;data.anyMatchFilter=""+(filters[c.columns]||wo.filter_$anyMatch&&tsf.getLatestSearch(wo.filter_$anyMatch).val()||"");if(wo.filter_columnAnyMatch){query=data.anyMatchFilter.split(tsfRegex.andSplit);injected=false;for(indx=0;indx<query.length;indx++){res=query[indx].split(":");if(res.length>1){id=parseInt(res[0],10)-1;if(id>=0&&id<c.columns){filters[id]=res[1];query.splice(indx,1);indx--;injected=true}}}if(injected){data.anyMatchFilter=query.join(" && ")}}}searchFiltered=wo.filter_searchFiltered;lastSearch=c.lastSearch||c.$table.data("lastSearch")||[];if(searchFiltered){for(indx=0;indx<columnIndex+1;indx++){val=filters[indx]||"";if(!searchFiltered){indx=columnIndex}searchFiltered=searchFiltered&&lastSearch.length&&val.indexOf(lastSearch[indx]||"")===0&&!tsfRegex.alreadyFiltered.test(val)&&!tsfRegex.exactTest.test(val)&&!(tsfRegex.isNeg1.test(val)||tsfRegex.isNeg2.test(val))&&!(val!==""&&c.$filters&&c.$filters.filter('[data-column="'+indx+'"]').find("select").length&&!c.$headerIndexed[indx].hasClass("filter-match"))}}notFiltered=$rows.not("."+wo.filter_filteredRow).length;if(searchFiltered&&notFiltered===0){searchFiltered=false}if(c.debug){console.log("Filter: Searching through "+(searchFiltered&&notFiltered<len?notFiltered:"all")+" rows")}if(data.anyMatchFlag){if(c.sortLocaleCompare){data.anyMatchFilter=ts.replaceAccents(data.anyMatchFilter)}if(wo.filter_defaultFilter&&tsfRegex.iQuery.test(vars.defaultAnyFilter)){data.anyMatchFilter=tsf.defaultFilter(data.anyMatchFilter,vars.defaultAnyFilter);searchFiltered=false}data.iAnyMatchFilter=!(wo.filter_ignoreCase&&c.ignoreCase)?data.anyMatchFilter:data.anyMatchFilter.toLowerCase()}for(rowIndex=0;rowIndex<len;rowIndex++){txt=$rows[rowIndex].className;isChild=rowIndex&&tsfRegex.child.test(txt);if(isChild||searchFiltered&&tsfRegex.filtered.test(txt)){continue}data.$row=$rows.eq(rowIndex);data.cacheArray=norm_rows[rowIndex];rowData=data.cacheArray[c.columns];data.rawArray=rowData.raw;data.childRowText="";if(!wo.filter_childByColumn){txt="";childRow=rowData.child;for(indx=0;indx<childRow.length;indx++){txt+=" "+childRow[indx].join(" ")||""}data.childRowText=wo.filter_childRows?wo.filter_ignoreCase?txt.toLowerCase():txt:""}showRow=false;showParent=tsf.processRow(c,data,vars);$row=rowData.$row;val=showParent?true:false;childRow=rowData.$row.filter(":gt( 0 )");if(wo.filter_childRows&&childRow.length){if(wo.filter_childByColumn){if(!wo.filter_childWithSibs){childRow.addClass(wo.filter_filteredRow);$row=$row.eq(0)}for(indx=0;indx<childRow.length;indx++){data.$row=childRow.eq(indx);data.cacheArray=rowData.child[indx];data.rawArray=data.cacheArray;val=tsf.processRow(c,data,vars);showRow=showRow||val;if(!wo.filter_childWithSibs&&val){childRow.eq(indx).removeClass(wo.filter_filteredRow)}}}showRow=showRow||showParent}else{showRow=val}$row.toggleClass(wo.filter_filteredRow,!showRow)[0].display=showRow?"":"none"}}c.filteredRows+=$rows.not("."+wo.filter_filteredRow).length;c.totalRows+=$rows.length;ts.processTbody(table,$tbody,false)}c.lastCombinedFilter=combinedFilters;c.lastSearch=storedFilters;c.$table.data("lastSearch",storedFilters);if(wo.filter_saveFilters&&ts.storage){ts.storage(table,"tablesorter-filters",tsf.processFilters(storedFilters,true))}if(c.debug){console.log("Completed filter widget search"+ts.benchmark(time))}if(wo.filter_initialized){c.$table.triggerHandler("filterEnd",c)}setTimeout(function(){ts.applyWidget(c.table)},0)},getOptionSource:function(table,column,onlyAvail){table=$(table)[0];var c=table.config,wo=c.widgetOptions,arry=false,source=wo.filter_selectSource,last=c.$table.data("lastSearch")||[],fxn=typeof source==="function"?true:ts.getColumnData(table,source,column);if(onlyAvail&&last[column]!==""){onlyAvail=false}if(fxn===true){arry=source(table,column,onlyAvail)}else if(fxn instanceof $||$.type(fxn)==="string"&&fxn.indexOf("</option>")>=0){return fxn}else if($.isArray(fxn)){arry=fxn}else if($.type(source)==="object"&&fxn){arry=fxn(table,column,onlyAvail)}if(arry===false){arry=tsf.getOptions(table,column,onlyAvail)}return tsf.processOptions(table,column,arry)},processOptions:function(table,column,arry){if(!$.isArray(arry)){return false}table=$(table)[0];var cts,txt,indx,len,parsedTxt,str,c=table.config,validColumn=typeof column!=="undefined"&&column!==null&&column>=0&&column<c.columns,parsed=[];arry=$.grep(arry,function(value,indx){if(value.text){return true}return $.inArray(value,arry)===indx});if(validColumn&&c.$headerIndexed[column].hasClass("filter-select-nosort")){return arry}else{len=arry.length;for(indx=0;indx<len;indx++){txt=arry[indx];str=txt.text?txt.text:txt;parsedTxt=(validColumn&&c.parsers&&c.parsers.length&&c.parsers[column].format(str,table,[],column)||str).toString();parsedTxt=c.widgetOptions.filter_ignoreCase?parsedTxt.toLowerCase():parsedTxt;if(txt.text){txt.parsed=parsedTxt;parsed.push(txt)}else{parsed.push({text:txt,parsed:parsedTxt})}}cts=c.textSorter||"";parsed.sort(function(a,b){var x=a.parsed,y=b.parsed;if(validColumn&&typeof cts==="function"){return cts(x,y,true,column,table)}else if(validColumn&&typeof cts==="object"&&cts.hasOwnProperty(column)){return cts[column](x,y,true,column,table)}else if(ts.sortNatural){return ts.sortNatural(x,y)}return true});arry=[];len=parsed.length;for(indx=0;indx<len;indx++){arry.push(parsed[indx])}return arry}},getOptions:function(table,column,onlyAvail){table=$(table)[0];var rowIndex,tbodyIndex,len,row,cache,indx,child,childLen,c=table.config,wo=c.widgetOptions,arry=[];for(tbodyIndex=0;tbodyIndex<c.$tbodies.length;tbodyIndex++){cache=c.cache[tbodyIndex];len=c.cache[tbodyIndex].normalized.length;for(rowIndex=0;rowIndex<len;rowIndex++){row=cache.row?cache.row[rowIndex]:cache.normalized[rowIndex][c.columns].$row[0];if(onlyAvail&&row.className.match(wo.filter_filteredRow)){continue}if(wo.filter_useParsedData||c.parsers[column].parsed||c.$headerIndexed[column].hasClass("filter-parsed")){arry.push(""+cache.normalized[rowIndex][column]);if(wo.filter_childRows&&wo.filter_childByColumn){childLen=cache.normalized[rowIndex][c.columns].$row.length-1;for(indx=0;indx<childLen;indx++){arry.push(""+cache.normalized[rowIndex][c.columns].child[indx][column])}}}else{arry.push(cache.normalized[rowIndex][c.columns].raw[column]);if(wo.filter_childRows&&wo.filter_childByColumn){childLen=cache.normalized[rowIndex][c.columns].$row.length;for(indx=1;indx<childLen;indx++){child=cache.normalized[rowIndex][c.columns].$row.eq(indx).children().eq(column);arry.push(""+ts.getElementText(c,child,column))}}}}}return arry},buildSelect:function(table,column,arry,updating,onlyAvail){table=$(table)[0];column=parseInt(column,10);if(!table.config.cache||$.isEmptyObject(table.config.cache)){return}var indx,val,txt,t,$filters,$filter,option,c=table.config,wo=c.widgetOptions,node=c.$headerIndexed[column],options='<option value="">'+(node.data("placeholder")||node.attr("data-placeholder")||wo.filter_placeholder.select||"")+"</option>",currentValue=c.$table.find("thead").find("select."+tscss.filter+'[data-column="'+column+'"]').val();if(typeof arry==="undefined"||arry===""){arry=tsf.getOptionSource(table,column,onlyAvail)}if($.isArray(arry)){for(indx=0;indx<arry.length;indx++){option=arry[indx];if(option.text){option["data-function-name"]=typeof option.value==="undefined"?option.text:option.value;options+="<option";for(val in option){if(option.hasOwnProperty(val)&&val!=="text"){options+=" "+val+'="'+option[val]+'"'}}if(!option.value){options+=' value="'+option.text+'"'}options+=">"+option.text+"</option>"}else if(""+option!=="[object Object]"){txt=option=(""+option).replace(tsfRegex.quote,"&quot;");val=txt;if(txt.indexOf(wo.filter_selectSourceSeparator)>=0){t=txt.split(wo.filter_selectSourceSeparator);val=t[0];txt=t[1]}options+=option!==""?"<option "+(val===txt?"":'data-function-name="'+option+'" ')+'value="'+val+'">'+txt+"</option>":""}}arry=[]}$filters=(c.$filters?c.$filters:c.$table.children("thead")).find("."+tscss.filter);if(wo.filter_$externalFilters){$filters=$filters&&$filters.length?$filters.add(wo.filter_$externalFilters):wo.filter_$externalFilters}$filter=$filters.filter('select[data-column="'+column+'"]');if($filter.length){
$filter[updating?"html":"append"](options);if(!$.isArray(arry)){$filter.append(arry).val(currentValue)}$filter.val(currentValue)}},buildDefault:function(table,updating){var columnIndex,$header,noSelect,c=table.config,wo=c.widgetOptions,columns=c.columns;for(columnIndex=0;columnIndex<columns;columnIndex++){$header=c.$headerIndexed[columnIndex];noSelect=!($header.hasClass("filter-false")||$header.hasClass("parser-false"));if(($header.hasClass("filter-select")||ts.getColumnData(table,wo.filter_functions,columnIndex)===true)&&noSelect){tsf.buildSelect(table,columnIndex,"",updating,$header.hasClass(wo.filter_onlyAvail))}}}};tsfRegex=tsf.regex;ts.getFilters=function(table,getRaw,setFilters,skipFirst){var i,$filters,$column,cols,filters=false,c=table?$(table)[0].config:"",wo=c?c.widgetOptions:"";if(getRaw!==true&&wo&&!wo.filter_columnFilters||$.isArray(setFilters)&&setFilters.join("")===c.lastCombinedFilter){return $(table).data("lastSearch")}if(c){if(c.$filters){$filters=c.$filters.find("."+tscss.filter)}if(wo.filter_$externalFilters){$filters=$filters&&$filters.length?$filters.add(wo.filter_$externalFilters):wo.filter_$externalFilters}if($filters&&$filters.length){filters=setFilters||[];for(i=0;i<c.columns+1;i++){cols=i===c.columns?wo.filter_anyColumnSelector+","+wo.filter_multipleColumnSelector:'[data-column="'+i+'"]';$column=$filters.filter(cols);if($column.length){$column=tsf.getLatestSearch($column);if($.isArray(setFilters)){if(skipFirst&&$column.length>1){$column=$column.slice(1)}if(i===c.columns){cols=$column.filter(wo.filter_anyColumnSelector);$column=cols.length?cols:$column}$column.val(setFilters[i]).trigger("change"+c.namespace)}else{filters[i]=$column.val()||"";if(i===c.columns){$column.slice(1).filter('[data-column*="'+$column.attr("data-column")+'"]').val(filters[i])}else{$column.slice(1).val(filters[i])}}if(i===c.columns&&$column.length){wo.filter_$anyMatch=$column}}}}}if(filters.length===0){filters=false}return filters};ts.setFilters=function(table,filter,apply,skipFirst){var c=table?$(table)[0].config:"",valid=ts.getFilters(table,true,filter,skipFirst);if(typeof apply==="undefined"){apply=true}if(c&&apply){c.lastCombinedFilter=null;c.lastSearch=[];tsf.searching(c.table,filter,skipFirst);c.$table.triggerHandler("filterFomatterUpdate")}return!!valid}})(jQuery);(function($,window){"use strict";var ts=$.tablesorter||{};$.extend(ts.css,{sticky:"tablesorter-stickyHeader",stickyVis:"tablesorter-sticky-visible",stickyHide:"tablesorter-sticky-hidden",stickyWrap:"tablesorter-sticky-wrapper"});ts.addHeaderResizeEvent=function(table,disable,settings){table=$(table)[0];if(!table.config){return}var defaults={timer:250},options=$.extend({},defaults,settings),c=table.config,wo=c.widgetOptions,checkSizes=function(triggerEvent){var index,headers,$header,sizes,width,height,len=c.$headers.length;wo.resize_flag=true;headers=[];for(index=0;index<len;index++){$header=c.$headers.eq(index);sizes=$header.data("savedSizes")||[0,0];width=$header[0].offsetWidth;height=$header[0].offsetHeight;if(width!==sizes[0]||height!==sizes[1]){$header.data("savedSizes",[width,height]);headers.push($header[0])}}if(headers.length&&triggerEvent!==false){c.$table.triggerHandler("resize",[headers])}wo.resize_flag=false};checkSizes(false);clearInterval(wo.resize_timer);if(disable){wo.resize_flag=false;return false}wo.resize_timer=setInterval(function(){if(wo.resize_flag){return}checkSizes()},options.timer)};ts.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"",stickyHeaders_attachTo:null,stickyHeaders_xScroll:null,stickyHeaders_yScroll:null,stickyHeaders_offset:0,stickyHeaders_filteredToTop:true,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:true,stickyHeaders_includeCaption:true,stickyHeaders_zIndex:2},format:function(table,c,wo){if(c.$table.hasClass("hasStickyHeaders")||$.inArray("filter",c.widgets)>=0&&!c.$table.hasClass("hasFilters")){return}var index,len,$t,$table=c.$table,$attach=$(wo.stickyHeaders_attachTo),namespace=c.namespace+"stickyheaders ",$yScroll=$(wo.stickyHeaders_yScroll||wo.stickyHeaders_attachTo||window),$xScroll=$(wo.stickyHeaders_xScroll||wo.stickyHeaders_attachTo||window),$thead=$table.children("thead:first"),$header=$thead.children("tr").not(".sticky-false").children(),$tfoot=$table.children("tfoot"),$stickyOffset=isNaN(wo.stickyHeaders_offset)?$(wo.stickyHeaders_offset):"",stickyOffset=$stickyOffset.length?$stickyOffset.height()||0:parseInt(wo.stickyHeaders_offset,10)||0,$nestedSticky=$table.parent().closest("."+ts.css.table).hasClass("hasStickyHeaders")?$table.parent().closest("table.tablesorter")[0].config.widgetOptions.$sticky.parent():[],nestedStickyTop=$nestedSticky.length?$nestedSticky.height():0,$stickyTable=wo.$sticky=$table.clone().addClass("containsStickyHeaders "+ts.css.sticky+" "+wo.stickyHeaders+" "+c.namespace.slice(1)+"_extra_table").wrap('<div class="'+ts.css.stickyWrap+'">'),$stickyWrap=$stickyTable.parent().addClass(ts.css.stickyHide).css({position:$attach.length?"absolute":"fixed",padding:parseInt($stickyTable.parent().parent().css("padding-left"),10),top:stickyOffset+nestedStickyTop,left:0,visibility:"hidden",zIndex:wo.stickyHeaders_zIndex||2}),$stickyThead=$stickyTable.children("thead:first"),$stickyCells,laststate="",spacing=0,setWidth=function($orig,$clone){var index,width,border,$cell,$this,$cells=$orig.filter(":visible"),len=$cells.length;for(index=0;index<len;index++){$cell=$clone.filter(":visible").eq(index);$this=$cells.eq(index);if($this.css("box-sizing")==="border-box"){width=$this.outerWidth()}else{if($cell.css("border-collapse")==="collapse"){if(window.getComputedStyle){width=parseFloat(window.getComputedStyle($this[0],null).width)}else{border=parseFloat($this.css("border-width"));width=$this.outerWidth()-parseFloat($this.css("padding-left"))-parseFloat($this.css("padding-right"))-border}}else{width=$this.width()}}$cell.css({width:width,"min-width":width,"max-width":width})}},resizeHeader=function(){stickyOffset=$stickyOffset.length?$stickyOffset.height()||0:parseInt(wo.stickyHeaders_offset,10)||0;spacing=0;$stickyWrap.css({left:$attach.length?parseInt($attach.css("padding-left"),10)||0:$table.offset().left-parseInt($table.css("margin-left"),10)-$xScroll.scrollLeft()-spacing,width:$table.outerWidth()});setWidth($table,$stickyTable);setWidth($header,$stickyCells)},scrollSticky=function(resizing){if(!$table.is(":visible")){return}nestedStickyTop=$nestedSticky.length?$nestedSticky.offset().top-$yScroll.scrollTop()+$nestedSticky.height():0;var offset=$table.offset(),yWindow=$.isWindow($yScroll[0]),xWindow=$.isWindow($xScroll[0]),scrollTop=($attach.length?yWindow?$yScroll.scrollTop():$yScroll.offset().top:$yScroll.scrollTop())+stickyOffset+nestedStickyTop,tableHeight=$table.height()-($stickyWrap.height()+($tfoot.height()||0)),isVisible=scrollTop>offset.top&&scrollTop<offset.top+tableHeight?"visible":"hidden",cssSettings={visibility:isVisible};if($attach.length){cssSettings.top=yWindow?scrollTop-$attach.offset().top:$attach.scrollTop()}if(xWindow){cssSettings.left=$table.offset().left-parseInt($table.css("margin-left"),10)-$xScroll.scrollLeft()-spacing}if($nestedSticky.length){cssSettings.top=(cssSettings.top||0)+stickyOffset+nestedStickyTop}$stickyWrap.removeClass(ts.css.stickyVis+" "+ts.css.stickyHide).addClass(isVisible==="visible"?ts.css.stickyVis:ts.css.stickyHide).css(cssSettings);if(isVisible!==laststate||resizing){resizeHeader();laststate=isVisible}};if($attach.length&&!$attach.css("position")){$attach.css("position","relative")}if($stickyTable.attr("id")){$stickyTable[0].id+=wo.stickyHeaders_cloneId}$stickyTable.find("thead:gt(0), tr.sticky-false").hide();$stickyTable.find("tbody, tfoot").remove();$stickyTable.find("caption").toggle(wo.stickyHeaders_includeCaption);$stickyCells=$stickyThead.children().children();$stickyTable.css({height:0,width:0,margin:0});$stickyCells.find("."+ts.css.resizer).remove();$table.addClass("hasStickyHeaders").bind("pagerComplete"+namespace,function(){resizeHeader()});ts.bindEvents(table,$stickyThead.children().children("."+ts.css.header));$table.after($stickyWrap);if(c.onRenderHeader){$t=$stickyThead.children("tr").children();len=$t.length;for(index=0;index<len;index++){c.onRenderHeader.apply($t.eq(index),[index,c,$stickyTable])}}$xScroll.add($yScroll).unbind("scroll resize ".split(" ").join(namespace).replace(/\s+/g," ")).bind("scroll resize ".split(" ").join(namespace),function(event){scrollSticky(event.type==="resize")});c.$table.unbind("stickyHeadersUpdate"+namespace).bind("stickyHeadersUpdate"+namespace,function(){scrollSticky(true)});if(wo.stickyHeaders_addResizeEvent){ts.addHeaderResizeEvent(table)}if($table.hasClass("hasFilters")&&wo.filter_columnFilters){$table.bind("filterEnd"+namespace,function(){var $td=$(document.activeElement).closest("td"),column=$td.parent().children().index($td);if($stickyWrap.hasClass(ts.css.stickyVis)&&wo.stickyHeaders_filteredToTop){window.scrollTo(0,$table.position().top);if(column>=0&&c.$filters){c.$filters.eq(column).find("a, select, input").filter(":visible").focus()}}});ts.filter.bindSearch($table,$stickyCells.find("."+ts.css.filter));if(wo.filter_hideFilters){ts.filter.hideFilters(c,$stickyTable)}}$table.triggerHandler("stickyHeadersInit")},remove:function(table,c,wo){var namespace=c.namespace+"stickyheaders ";c.$table.removeClass("hasStickyHeaders").unbind("pagerComplete filterEnd stickyHeadersUpdate ".split(" ").join(namespace).replace(/\s+/g," ")).next("."+ts.css.stickyWrap).remove();if(wo.$sticky&&wo.$sticky.length){wo.$sticky.remove()}$(window).add(wo.stickyHeaders_xScroll).add(wo.stickyHeaders_yScroll).add(wo.stickyHeaders_attachTo).unbind("scroll resize ".split(" ").join(namespace).replace(/\s+/g," "));ts.addHeaderResizeEvent(table,false)}})})(jQuery,window);(function($,window){"use strict";var ts=$.tablesorter||{};$.extend(ts.css,{resizableContainer:"tablesorter-resizable-container",resizableHandle:"tablesorter-resizable-handle",resizableNoSelect:"tablesorter-disableSelection",resizableStorage:"tablesorter-resizable"});$(function(){var s="<style>"+"body."+ts.css.resizableNoSelect+" { -ms-user-select: none; -moz-user-select: -moz-none;"+"-khtml-user-select: none; -webkit-user-select: none; user-select: none; }"+"."+ts.css.resizableContainer+" { position: relative; height: 1px; }"+"."+ts.css.resizableHandle+" { position: absolute; display: inline-block; width: 8px;"+"top: 1px; cursor: ew-resize; z-index: 3; user-select: none; -moz-user-select: none; }"+"</style>";$(s).appendTo("body")});ts.resizable={init:function(c,wo){if(c.$table.hasClass("hasResizable")){return}c.$table.addClass("hasResizable");var noResize,$header,column,storedSizes,tmp,$table=c.$table,$parent=$table.parent(),marginTop=parseInt($table.css("margin-top"),10),vars=wo.resizable_vars={useStorage:ts.storage&&wo.resizable!==false,$wrap:$parent,mouseXPosition:0,$target:null,$next:null,overflow:$parent.css("overflow")==="auto"||$parent.css("overflow")==="scroll"||$parent.css("overflow-x")==="auto"||$parent.css("overflow-x")==="scroll",storedSizes:[]};ts.resizableReset(c.table,true);vars.tableWidth=$table.width();vars.fullWidth=Math.abs($parent.width()-vars.tableWidth)<20;if(vars.useStorage&&vars.overflow){ts.storage(c.table,"tablesorter-table-original-css-width",vars.tableWidth);tmp=ts.storage(c.table,"tablesorter-table-resized-width")||"auto";ts.resizable.setWidth($table,tmp,true)}wo.resizable_vars.storedSizes=storedSizes=(vars.useStorage?ts.storage(c.table,ts.css.resizableStorage):[])||[];ts.resizable.setWidths(c,wo,storedSizes);ts.resizable.updateStoredSizes(c,wo);wo.$resizable_container=$('<div class="'+ts.css.resizableContainer+'">').css({top:marginTop}).insertBefore($table);for(column=0;column<c.columns;column++){$header=c.$headerIndexed[column];tmp=ts.getColumnData(c.table,c.headers,column);noResize=ts.getData($header,tmp,"resizable")==="false";if(!noResize){$('<div class="'+ts.css.resizableHandle+'">').appendTo(wo.$resizable_container).attr({"data-column":column,unselectable:"on"}).data("header",$header).bind("selectstart",false)}}ts.resizable.setHandlePosition(c,wo);ts.resizable.bindings(c,wo)},updateStoredSizes:function(c,wo){var column,$header,len=c.columns,vars=wo.resizable_vars;vars.storedSizes=[];for(column=0;column<len;column++){$header=c.$headerIndexed[column];vars.storedSizes[column]=$header.is(":visible")?$header.width():0}},setWidth:function($el,width,overflow){$el.css({width:width,"min-width":overflow?width:"","max-width":overflow?width:""})},setWidths:function(c,wo,storedSizes){var column,$temp,vars=wo.resizable_vars,$extra=$(c.namespace+"_extra_headers"),$col=c.$table.children("colgroup").children("col");storedSizes=storedSizes||vars.storedSizes||[];if(storedSizes.length){for(column=0;column<c.columns;column++){ts.resizable.setWidth(c.$headerIndexed[column],storedSizes[column],vars.overflow);if($extra.length){$temp=$extra.eq(column).add($col.eq(column));ts.resizable.setWidth($temp,storedSizes[column],vars.overflow)}}$temp=$(c.namespace+"_extra_table");if($temp.length&&!ts.hasWidget(c.table,"scroller")){ts.resizable.setWidth($temp,c.$table.outerWidth(),vars.overflow)}}},setHandlePosition:function(c,wo){var startPosition,hasScroller=ts.hasWidget(c.table,"scroller"),tableHeight=c.$table.height(),$handles=wo.$resizable_container.children(),handleCenter=Math.floor($handles.width()/2);if(hasScroller){tableHeight=0;c.$table.closest("."+ts.css.scrollerWrap).children().each(function(){var $this=$(this);tableHeight+=$this.filter('[style*="height"]').length?$this.height():$this.children("table").height()})}startPosition=c.$table.position().left;$handles.each(function(){var $this=$(this),column=parseInt($this.attr("data-column"),10),columns=c.columns-1,$header=$this.data("header");if(!$header){return}if(!$header.is(":visible")){$this.hide()}else if(column<columns||column===columns&&wo.resizable_addLastColumn){$this.css({display:"inline-block",height:tableHeight,left:$header.position().left-startPosition+$header.outerWidth()-handleCenter})}})},toggleTextSelection:function(c,wo,toggle){var namespace=c.namespace+"tsresize";wo.resizable_vars.disabled=toggle;$("body").toggleClass(ts.css.resizableNoSelect,toggle);if(toggle){$("body").attr("unselectable","on").bind("selectstart"+namespace,false)}else{$("body").removeAttr("unselectable").unbind("selectstart"+namespace)}},bindings:function(c,wo){var namespace=c.namespace+"tsresize";wo.$resizable_container.children().bind("mousedown",function(event){var column,vars=wo.resizable_vars,$extras=$(c.namespace+"_extra_headers"),$header=$(event.target).data("header");column=parseInt($header.attr("data-column"),10);vars.$target=$header=$header.add($extras.filter('[data-column="'+column+'"]'));vars.target=column;vars.$next=event.shiftKey||wo.resizable_targetLast?$header.parent().children().not(".resizable-false").filter(":last"):$header.nextAll(":not(.resizable-false)").eq(0);column=parseInt(vars.$next.attr("data-column"),10);vars.$next=vars.$next.add($extras.filter('[data-column="'+column+'"]'));vars.next=column;vars.mouseXPosition=event.pageX;ts.resizable.updateStoredSizes(c,wo);ts.resizable.toggleTextSelection(c,wo,true)});$(document).bind("mousemove"+namespace,function(event){var vars=wo.resizable_vars;if(!vars.disabled||vars.mouseXPosition===0||!vars.$target){return}if(wo.resizable_throttle){clearTimeout(vars.timer);vars.timer=setTimeout(function(){ts.resizable.mouseMove(c,wo,event)},isNaN(wo.resizable_throttle)?5:wo.resizable_throttle)}else{ts.resizable.mouseMove(c,wo,event)}}).bind("mouseup"+namespace,function(){if(!wo.resizable_vars.disabled){return}ts.resizable.toggleTextSelection(c,wo,false);ts.resizable.stopResize(c,wo);ts.resizable.setHandlePosition(c,wo)});$(window).bind("resize"+namespace+" resizeEnd"+namespace,function(){ts.resizable.setHandlePosition(c,wo)});c.$table.bind("columnUpdate"+namespace,function(){ts.resizable.setHandlePosition(c,wo)}).find("thead:first").add($(c.namespace+"_extra_table").find("thead:first")).bind("contextmenu"+namespace,function(){var allowClick=wo.resizable_vars.storedSizes.length===0;ts.resizableReset(c.table);ts.resizable.setHandlePosition(c,wo);wo.resizable_vars.storedSizes=[];return allowClick})},mouseMove:function(c,wo,event){if(wo.resizable_vars.mouseXPosition===0||!wo.resizable_vars.$target){return}var column,total=0,vars=wo.resizable_vars,$next=vars.$next,tar=vars.storedSizes[vars.target],leftEdge=event.pageX-vars.mouseXPosition;if(vars.overflow){if(tar+leftEdge>0){vars.storedSizes[vars.target]+=leftEdge;ts.resizable.setWidth(vars.$target,vars.storedSizes[vars.target],true);for(column=0;column<c.columns;column++){total+=vars.storedSizes[column]}ts.resizable.setWidth(c.$table.add($(c.namespace+"_extra_table")),total)}if(!$next.length){vars.$wrap[0].scrollLeft=c.$table.width()}}else if(vars.fullWidth){vars.storedSizes[vars.target]+=leftEdge;vars.storedSizes[vars.next]-=leftEdge;ts.resizable.setWidths(c,wo)}else{vars.storedSizes[vars.target]+=leftEdge;ts.resizable.setWidths(c,wo)}vars.mouseXPosition=event.pageX;c.$table.triggerHandler("stickyHeadersUpdate")},stopResize:function(c,wo){var vars=wo.resizable_vars;ts.resizable.updateStoredSizes(c,wo);if(vars.useStorage){ts.storage(c.table,ts.css.resizableStorage,vars.storedSizes);ts.storage(c.table,"tablesorter-table-resized-width",c.$table.width())}vars.mouseXPosition=0;vars.$target=vars.$next=null;c.$table.triggerHandler("stickyHeadersUpdate")}};ts.addWidget({id:"resizable",priority:40,options:{resizable:true,resizable_addLastColumn:false,resizable_widths:[],resizable_throttle:false,resizable_targetLast:false,resizable_fullWidth:null},init:function(table,thisWidget,c,wo){ts.resizable.init(c,wo)},remove:function(table,c,wo,refreshing){if(wo.$resizable_container){var namespace=c.namespace+"tsresize";c.$table.add($(c.namespace+"_extra_table")).removeClass("hasResizable").children("thead").unbind("contextmenu"+namespace);wo.$resizable_container.remove();ts.resizable.toggleTextSelection(c,wo,false);ts.resizableReset(table,refreshing);$(document).unbind("mousemove"+namespace+" mouseup"+namespace)}}});ts.resizableReset=function(table,refreshing){$(table).each(function(){var index,$t,c=this.config,wo=c&&c.widgetOptions,vars=wo.resizable_vars;if(table&&c&&c.$headerIndexed.length){if(vars.overflow&&vars.tableWidth){ts.resizable.setWidth(c.$table,vars.tableWidth,true);if(vars.useStorage){ts.storage(table,"tablesorter-table-resized-width","auto")}}for(index=0;index<c.columns;index++){$t=c.$headerIndexed[index];if(wo.resizable_widths&&wo.resizable_widths[index]){ts.resizable.setWidth($t,wo.resizable_widths[index],vars.overflow)}else if(!$t.hasClass("resizable-false")){ts.resizable.setWidth($t,"",vars.overflow)}}c.$table.triggerHandler("stickyHeadersUpdate");if(ts.storage&&!refreshing){ts.storage(this,ts.css.resizableStorage,{})}}})}})(jQuery,window);(function($){"use strict";var ts=$.tablesorter||{};ts.addWidget({id:"saveSort",priority:20,options:{saveSort:true},init:function(table,thisWidget,c,wo){thisWidget.format(table,c,wo,true)},format:function(table,c,wo,init){var stored,time,$table=c.$table,saveSort=wo.saveSort!==false,sortList={sortList:c.sortList};if(c.debug){time=new Date}if($table.hasClass("hasSaveSort")){if(saveSort&&table.hasInitialized&&ts.storage){ts.storage(table,"tablesorter-savesort",sortList);if(c.debug){console.log("saveSort widget: Saving last sort: "+c.sortList+ts.benchmark(time))}}}else{$table.addClass("hasSaveSort");sortList="";if(ts.storage){stored=ts.storage(table,"tablesorter-savesort");sortList=stored&&stored.hasOwnProperty("sortList")&&$.isArray(stored.sortList)?stored.sortList:"";if(c.debug){console.log('saveSort: Last sort loaded: "'+sortList+'"'+ts.benchmark(time))}$table.bind("saveSortReset",function(event){event.stopPropagation();ts.storage(table,"tablesorter-savesort","")})}if(init&&sortList&&sortList.length>0){c.sortList=sortList}else if(table.hasInitialized&&sortList&&sortList.length>0){ts.sortOn(c,sortList)}}},remove:function(table,c){c.$table.removeClass("hasSaveSort");if(ts.storage){ts.storage(table,"tablesorter-savesort","")}}})})(jQuery);return $.tablesorter});